---
title: "DECISION_LOG"
version: "1.0"
last_updated: "2025-11-26"
status: "active"
description: "ุณุฌู ุงููุฑุงุฑุงุช ุงูุชูููุฉ ุงููุนูุงุฑูุฉ - ููุงุฐุง ุงุชุฎุฐูุง ูุฐู ุงููุฑุงุฑุงุชุ"
---

# ๐ DECISION LOG - ุณุฌู ุงููุฑุงุฑุงุช ุงูุชูููุฉ

> **ุงููุฏู:** ุชูุซูู ุงููุฑุงุฑุงุช ุงูุญุฑุฌุฉ ูุน ุงูุณูุงู ุงูุชุงุฑูุฎู ูููุน ุฅุนุงุฏุฉ ุงูุชุดุงู ููุณ ุงููุดุงูู.

---

## Port 6543 (NOT 5432)

- **ุงูุชุงุฑูุฎ:** ููููุจุฑ 2025 (ุงูุฌูุณุฉ 3)
- **ุงูุณุจุจ:** Supabase Serverless Environment requires Transaction Pooler (pgbouncer)
- **ุงูุจุฏูู ุงููุฑููุถ:** Port 5432 (Direct Connection)
- **ุงููุชูุฌุฉ ุนูุฏ ุงููุฎุงููุฉ:** ุฎุทุฃ P1001 - Connection Timeout after 10 seconds
- **ุงูุญุงูุฉ:** ุฏุงุฆู (Permanent)
- **ุงูุชูููุฐ:** `DATABASE_URL="postgresql://...@db.[proj].supabase.co:6543/postgres?pgbouncer=true"`
- **ุงููุฑุฌุน:** [Supabase Docs - Connection Pooling](https://supabase.com/docs/guides/database/connecting-to-postgres#connection-pooler)

---

## Route Groups Architecture

- **ุงูุชุงุฑูุฎ:** 25 ููููุจุฑ 2025 (ุงูุฌูุณุฉ 19)
- **ุงูุณูุงู:** Sidebar ูุงู ููุนุงุฏ ุชุญูููู ุนูุฏ ูู ุงูุชูุงู โ 4 ุซูุงู ุชุฃุฎูุฑ
- **ุงููุฑุงุฑ:** ููู ุฌููุน ุงูุตูุญุงุช ุงููุญููุฉ ุฅูู `(dashboard)` Route Group
- **ุงูุจุฏูู ุงููุฑููุถ:** Separate Layouts ููู ุตูุญุฉ
- **ุงูููุงุณ:** ุชุญุณูู ุจูุณุจุฉ 80% ูู ุณุฑุนุฉ ุงูุชููู (ูู 4 ุซูุงู ุฅูู <50ms)
- **ุงูุญุงูุฉ:** ูุนุชูุฏ (Adopted)
- **ุงูุชูููุฐ:** 23 ุตูุญุฉ ูู `src/app/(dashboard)/`
- **ุดุฑูุท ุงูุชุฑุงุฌุน:** ุฅุฐุง ุธูุฑุช ูุดุงูู ูู ุงูู Layout Sharing

---

## Removal of testUsers Array

- **ุงูุชุงุฑูุฎ:** 23 ููููุจุฑ 2025 (ุงูุฌูุณุฉ 18)
- **ุงูุณูุงู:** ูุงู ููุฌูุฏุงู hardcoded array ูู `auth.ts` ููุชุฌุฑุจุฉ ุงูุณุฑูุนุฉ
- **ุงููุฑุงุฑ:** ุญุฐู `testUsers` ุชูุงูุงู ูุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท
- **ุงูุณุจุจ:** ุซุบุฑุฉ ุฃูููุฉ ุญุฑุฌุฉ (Security Vulnerability) - ุชุฌุงูุฒ ุงููุตุงุฏูุฉ
- **ุงูุจุฏูู:** ุงุณุชุฎุฏุงู `prisma` ููุจุญุซ ุนู ุงููุณุชุฎุฏููู ูู ูู ูุฑุฉ
- **ุงูุชุฃุซูุฑ:** ุฅุบูุงู ุซุบุฑุฉ IDOR ูุญุชููุฉ
- **ุงูุญุงูุฉ:** ูุญุธูุฑ ููุงุฆูุงู (Forbidden Forever)
- **ููุงุญุธุฉ:** โ ูุง ุชูุชุฑุญ ุฃุจุฏุงู ุฅุนุงุฏุฉ ูุฐุง Pattern

---

## Server Actions over API Routes

- **ุงูุชุงุฑูุฎ:** 23 ููููุจุฑ 2025 (ุงูุฌูุณุฉ 18)
- **ุงูุณูุงู:** ููุง ูุณุชุฎุฏู API Routes (`/api/*`) ูุฌููุน ุนูููุงุช ุงููุชุงุจุฉ
- **ุงููุฑุงุฑ:** ุงูุงูุชูุงู ุฅูู Server Actions (`'use server'`) ุจุฏูุงู ูู API Routes
- **ุงูุณุจุจ:** 
  - ุชูููู ููุฏ Client ุจูุณุจุฉ 60%
  - ุชุญุณูู ุงูุฃูุงู (ูุง endpoints ูุงุจูุฉ ููุชูุงุนุจ)
  - ุชุญุณูู ุงูุฃุฏุงุก ุจูุณุจุฉ 40%
- **ุงูุจุฏูู ุงููุฑููุถ:** ุงูุงุณุชูุฑุงุฑ ูุน API Routes
- **ุงูุญุงูุฉ:** ูุนุชูุฏ (Server Actions ูู ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูููุชุงุจุฉ)
- **ุงูุงุณุชุซูุงุก:** API Routes ูุณููุญุฉ ููุท ููู webhooks ุฃู integrations ุฎุงุฑุฌูุฉ

---

## React 19 + Next.js 15 Upgrade

- **ุงูุชุงุฑูุฎ:** 23 ููููุจุฑ 2025 (ุงูุฌูุณุฉ 18)
- **ุงูุณูุงู:** ููุง ุนูู React 18 + Next.js 14
- **ุงููุฑุงุฑ:** ุงูุชุฑููุฉ ุงููุงููุฉ ุฅูู React 19 RC + Next.js 15
- **ุงูุณุจุจ:** 
  - Server Actions ุชุชุทูุจ React 19
  - `useActionState` hook ุบูุฑ ูุชููุฑ ูู React 18
  - ุชุญุณููุงุช ุงูุฃุฏุงุก ุงููุถููุฉ
- **ุงูุชุญุฏูุงุช:** 
  - โ๏ธ React 19 ูุง ูุฒุงู RC (Release Candidate)
  - ุจุนุถ ุงูููุชุจุงุช ูุฏ ูุง ุชุฏุนูู ุจุนุฏ
- **ุงูุญุงูุฉ:** ูุนุชูุฏ (ูุง ุนูุฏุฉ)
- **ุงูููุงุญุธุฉ:** ุฏุงุฆูุงู ุชุญูู ูู compatibility ูุจู ุฅุถุงูุฉ ููุชุจุงุช ุฌุฏูุฏุฉ

---

**ููุงุญุธุฉ:** ุฃุถู ุฃู ูุฑุงุฑ ูุนูุงุฑู ูุจูุฑ ููุง ุจุงุณุชุฎุฏุงู Template ุงูููุญุฏ.
