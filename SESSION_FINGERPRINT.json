{
  "meta": {
    "last_session": "20.2-20.3",
    "last_update": "2025-11-28T10:00:00.000Z",
    "next_review": "2025-11-29T10:00:00.000Z"
  },
  "critical_files": {
    "prisma/schema.prisma": {
      "hash": "a398b56b",
      "last_modified": "2025-11-17T05:08:56.789Z",
      "changed": false,
      "last_change": "Manual review required"
    },
    "src/lib/auth.ts": {
      "hash": "c8f39b69",
      "last_modified": "2025-11-24T02:47:14.075Z",
      "changed": false,
      "last_change": "Manual review required"
    },
    "src/middleware.ts": {
      "hash": "e8a91d9b",
      "last_modified": "2025-11-26T14:16:29.121Z",
      "changed": false,
      "last_change": "Manual review required"
    },
    ".env": {
      "hash": "aaea3683",
      "last_modified": "2025-11-14T13:22:27.013Z",
      "changed": false,
      "last_change": "Manual review required"
    },
    "package.json": {
      "hash": "6f8418b7",
      "last_modified": "2025-11-26T12:53:55.325Z",
      "changed": false,
      "last_change": "Manual review required"
    },
    "src/components/shared/Sidebar.tsx": {
      "hash": "updated",
      "last_modified": "2025-11-28T10:00:00.000Z",
      "changed": true,
      "last_change": "Session 20.3 - Added collapsible reports submenu"
    },
    "src/actions/reports.ts": {
      "hash": "existing",
      "last_modified": "2025-11-27T00:00:00.000Z",
      "changed": false,
      "last_change": "Session 20.1 - Server Actions for reports"
    }
  },
  "breaking_changes_since_last_session": [
    {
      "session": "20.2-20.3",
      "date": "2025-11-28",
      "type": "feature",
      "description": "Reports System completed - 3 new report pages with professional UI",
      "impact": "Old /detailed-reports deleted, new pages at /academic-reports, /attendance-report, /behavior-points-report",
      "ai_action_required": "Use new report pages for any report-related features"
    },
    {
      "session": 19,
      "date": "2025-11-25",
      "type": "architecture",
      "description": "23 pages migrated to (dashboard) Route Group",
      "impact": "All protected routes now share single layout",
      "ai_action_required": "Use (dashboard) for all new protected pages"
    }
  ],
  "deprecated_patterns": [
    {
      "pattern": "testUsers array",
      "deprecated_in": "Session 18",
      "replacement": "Database-only authentication",
      "reason": "Security vulnerability"
    },
    {
      "pattern": "API Routes for mutations",
      "deprecated_in": "Session 18",
      "replacement": "Server Actions",
      "reason": "Security and performance"
    },
    {
      "pattern": "/detailed-reports page",
      "deprecated_in": "Session 20.3",
      "replacement": "/academic-reports, /attendance-report, /behavior-points-report",
      "reason": "Better separation of concerns"
    }
  ],
  "active_constraints": {
    "database": {
      "port": 6543,
      "pooler": "required"
    },
    "framework": {
      "nextjs": "15.x",
      "react": "19.x"
    }
  }
}