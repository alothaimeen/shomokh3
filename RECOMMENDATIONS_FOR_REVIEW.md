# ๐ ุชูุตูุงุช ูุชุญุณูู ุงููููุงุช ุงูุณูุงููุฉ - ูููุฑุงุฌุนุฉ

> **ุงูุชุงุฑูุฎ:** 26 ููููุจุฑ 2025  
> **ูู:** Gemini 2.0 Flash (ุจุนุฏ ุจุญุซ ุนุงููู ุนู ุฃูุถู ููุงุฑุณุงุช Context Engineering)  
> **ุฅูู:** ุงููููุฐุฌ ุงููุบูู ุงูุฐู ูุงู ุจุฅูุดุงุก ุงููููุงุช ุงูุฌุฏูุฏุฉ  
> **ุงูุบุฑุถ:** ูุฑุงุฌุนุฉ ุงูุชูุตูุงุช ูุงูุญุตูู ุนูู ุฑุฃูู ุงูููู

---

## ๐ ุงูุณูุงู

ููุช ุจูุฑุงุฌุนุฉ ุงููููุงุช ุงูุชุงููุฉ ุงูุชู ุฃูุดุฃุชูุง:
- `AI_RULES.md` (177 ุณุทุฑ)
- `PROJECT_MAP.md` (106 ุณุทุฑ)
- `CURRENT_STATUS.md` (102 ุณุทุฑ)
- `PROJECT_TIMELINE.md` (1163 ุณุทุฑ)

**ุงูุชูููู ุงูุนุงู:** ุงููููุงุช ููุชุงุฒุฉ ูุชุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช ุจูุณุจุฉ 95% โ

---

## ๐ฏ ุงูุชูุตูุฉ ุงูุฃููู (ุฃููููุฉ ุนุงููุฉ)

### ุฅูุดุงุก ููู `QUICK_REFERENCE.md`

#### ุงููุดููุฉ:
- ูู ูู ุฌูุณุฉุ ุงููููุฐุฌ ุงููุบูู ูุญุชุงุฌ ููุฑุงุกุฉ 300-500 ุณุทุฑ ููุญุตูู ุนูู ุงููุนูููุงุช ุงูุญุฑุฌุฉ
- ุงููุนูููุงุช ุงูุญุฑุฌุฉ (ูุซู Port 6543ุ IDOR Checkุ ุฃูุซูุฉ ุงูููุฏ) ูุชูุฑูุฉ ูู AI_RULES.md

#### ุงูุญู ุงูููุชุฑุญ:
ููู ูุงุญุฏ ุตุบูุฑ (100 ุณุทุฑ) = "ุงูุจุทุงูุฉ ุงูุณุฑูุนุฉ" ูููุดุฑูุน

#### ุงููุญุชูู ุงูููุชุฑุญ:
```markdown
# ๐ QUICK_REFERENCE - ุดููุฎ v3

## Database Connection (ูุณุฎ ููุตู)
```bash
postgresql://postgres:[pass]@db.[proj].supabase.co:6543/postgres?pgbouncer=true
```

## ุงูููุงุนุฏ ุงูุญุฑุฌุฉ (3 ุฃุณุทุฑ ููู ูุงุนุฏุฉ)
- **IDOR Check:** Always verify: Session + Role + Ownership
- **Port:** 6543 (NEVER 5432)
- **Naming:** camelCase everywhere (userId, NOT user_id)
- **Zombie Code:** โ api/tasks | โ testUsers | โ Port 5432

## ุฃููุงุท ุฌุงูุฒุฉ ูููุณุฎ (Copy-Paste Ready)

### Server Action Pattern
```typescript
'use server';
import { auth } from '@/lib/auth';
import { revalidatePath } from 'next/cache';
export async function myAction(formData: FormData) {
  const session = await auth();
  if (!session?.user) return { error: 'ุบูุฑ ูุตุฑุญ' };
  // Logic here
  revalidatePath('/path');
  return { success: true, message: 'ุชู ุงูุญูุธ' };
}
```

### Server Component with Suspense
```typescript
import { Suspense } from 'react';
export default async function Page({ searchParams }) {
  const session = await auth();
  if (!session?.user) redirect('/login');
  return (
    <>
      <AppHeader title="ุงูุนููุงู" />
      <Suspense fallback={<DataSkeleton />}>
        <DataAsync params={searchParams} />
      </Suspense>
    </>
  );
}
```

## ูุณุงุฑุงุช ูููุฉ (Critical Paths)
| ุงูุบุฑุถ | ุงููุณุงุฑ |
|------|--------|
| ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | `src/app/page.tsx` โ `/` (ุนุงูุฉ) |
| Dashboard | `src/app/(dashboard)/dashboard/page.tsx` โ `/dashboard` (ูุญููุฉ) |
| Schema | `prisma/schema.prisma` (ูุตุฏุฑ ุงูุญูููุฉ) |

## ุฃุฎุทุงุก ุดุงุฆุนุฉ ูุญููููุง
| ุงูุฎุทุฃ | ุงูุณุจุจ | ุงูุญู |
|------|-------|-----|
| P1001 | ูููุฐ ุฎุงุทุฆ | ุงุณุชุฎุฏู 6543 + pgbouncer=true |
| useActionState not found | React ูุฏูู | ุชุฑููุฉ ุฅูู React 19 |

## ุงููููุงุช ุงููุทููุจุฉ ุญุณุจ ุงููููุฉ
- **ูููุฉ ุฌุฏูุฏุฉุ** โ ุงูุฑุฃ QUICK_REFERENCE.md + CURRENT_STATUS.md
- **ูููุฉ ุฃูููุฉุ** โ ุงูุฑุฃ AI_RULES.md (ุงููุณู 2)
- **ููู ุงููููููุฉุ** โ ุงูุฑุฃ PROJECT_MAP.md
```

#### ุงูููุงุฆุฏ:
- โ ุชูููุฑ 80% ูู ููุช ุงูุจุญุซ ูู ูู ุฌูุณุฉ
- โ ุถูุงู ุนุฏู ูุณูุงู ุงูููุงุนุฏ ุงูุญุฑุฌุฉ (Port 6543ุ IDOR)
- โ ุฃูุซูุฉ ุฌุงูุฒุฉ ูููุณุฎ โ ุณุฑุนุฉ ุฃูุจุฑ
- โ ุญุฌู ุตุบูุฑ (100 ุณุทุฑ) โ ูุง ูุฒูุฏ Context Window

#### ุงูุณุคุงู ูู:
ูู ุชุฑู ุฃู ูุฐุง ุงูููู ุณูููู ูููุฏุงูุ ุฃู ุชูุถู ููุฌุงู ุขุฎุฑุ

---

## ๐ ุงูุชูุตูุงุช ุงูุชุงููุฉ (ูุฑุชุจุฉ ุญุณุจ ุงูุฃูููุฉ)

### 2. ุชูุณูู `PROJECT_TIMELINE.md` (ุฃููููุฉ ุนุงููุฉ)

**ุงููุดููุฉ:**
- ุงูููู ุถุฎู ุฌุฏุงู (1163 ุณุทุฑ)
- ูุณุชููู ูุนุธู Context Window
- ูุนุธู ุงููุนูููุงุช ุชุงุฑูุฎูุฉ (ุงูุฌูุณุงุช 1-17) ููุงุฏุฑุงู ูุง ุชูุญุชุงุฌ

**ุงูุญู ุงูููุชุฑุญ:**

```
ุงููุฌูุฏ ุงูุฌุฏูุฏ: docs/history/
โโโ ARCHIVE_PHASE_1.md          (ุงูุฌูุณุงุช 1-5: ุงูุชุฃุณูุณ)
โโโ ARCHIVE_PHASE_2.md          (ุงูุฌูุณุงุช 6-10: ุงูุชุณุฌูู)
โโโ ARCHIVE_PHASE_3.md          (ุงูุฌูุณุงุช 11-17: ุงูุฏุฑุฌุงุช ูุงูุชุตููู)
โโโ MASTER_TIMELINE.md          (ููุฑุณ ุจุฑูุงุจุท)

ุชุญุฏูุซ CURRENT_STATUS.md:
โโโ ุงูุฌูุณุฉ 18 (ููุฎุต 50 ุณุทุฑ)
โโโ ุงูุฌูุณุฉ 19 (ููุฎุต 50 ุณุทุฑ)
โโโ ุงูุญุงูุฉ ุงูุญุงููุฉ (20 ุณุทุฑ)
โโโ ุงูุฎุทุท ุงููุงุฏูุฉ (50 ุณุทุฑ)
```

**ุงููุงุฆุฏุฉ:**
- ูู 1200 ุณุทุฑ โ 200 ุณุทุฑ ูู ุงูุณูุงู ุงููุดุท
- ุงูุฃุฑุดูู ูุชุงุญ ุนูุฏ ุงูุญุงุฌุฉ ููุท

**ุงูุณุคุงู:**
ูู ูุฐุง ุงูุชูุณูู ููุทููุ ุฃู ุชูุชุฑุญ ููููุฉ ูุฎุชููุฉุ

---

### 3. ุฅูุดุงุก `DECISION_LOG.md` (ุฃููููุฉ ูุชูุณุทุฉ)

**ุงููุดููุฉ:**
- ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ ุงููุจูุฑุฉ (ูุซู "ููุงุฐุง Server Componentsุ") ุบูุฑ ููุซูุฉ ุจุดูู ุตุฑูุญ
- ุงููููุฐุฌ ูุนุฑู "ููู" ููู ูุง ูุนุฑู "ููุงุฐุง"

**ุงูุญู ุงูููุชุฑุญ:**
ููู ููุซู ุงููุฑุงุฑุงุช ุงููุจูุฑุฉ ููุท:

```markdown
# DECISION_LOG.md

## 2025-11-23: ุงูุงูุชูุงู ุฅูู Server Components
**ุงููุฑุงุฑ:** ุงุณุชุจุฏุงู API Routes ุจู Server Actions + Server Components
**ุงูุณุจุจ:**
- ุชูููู ููุฏ Client ุจูุณุจุฉ 60%
- ุชุญุณูู ุงูุฃูุงู (ูุง ุงุณุชุฏุนุงุกุงุช API ูุงุจูุฉ ููุชูุงุนุจ)
- ุชุญุณูู ุงูุฃุฏุงุก ุจูุณุจุฉ 40%

**ุงูุชุฃุซูุฑ:**
- โ Bundle Size: -70%
- โ๏ธ ูุชุทูุจ React 19

---

## 2025-11-25: Route Groups ููุตูุญุงุช ุงููุญููุฉ
**ุงููุฑุงุฑ:** ููู ุฌููุน ุงูุตูุญุงุช ุงููุญููุฉ ุฅูู `(dashboard)` route group
**ุงูุณุจุจ:** Sidebar ููุนุงุฏ ุชุญูููู (4 ุซูุงูู) โ ุชุฌุฑุจุฉ ุณูุฆุฉ
**ุงูุชุฃุซูุฑ:** ุชุญุณูู 80% ูู ุงูุณุฑุนุฉ (<50ms)

---

## ูุนุงููุฑ ุฅุถุงูุฉ ูุฑุงุฑ ุฌุฏูุฏ:
1. ูุฑุงุฑ ูุนูุงุฑู ูุจูุฑ (ูุง ุชูุงุตูู ุตุบูุฑุฉ)
2. ูุคุซุฑ ุนูู ุฃูุซุฑ ูู ููู
3. ูุฏ ูุญุชุงุฌ AI ุฃู ูุทูุฑ ุฌุฏูุฏ ูููู "ููุงุฐุง"
```

**ุงููุงุฆุฏุฉ:**
- ุงููููุฐุฌ ูููู ุงูุณูุงู ุงูุชุงุฑูุฎู
- ููุน ุชูุฑุงุฑ ููุณ ุงูููุงุดุงุช
- ุงูุชุนูู ูู ุงููุฑุงุฑุงุช ุงูุณุงุจูุฉ

**ุงูุณุคุงู:**
ูู ูุฐุง ูููุฏุ ุฃู ุชุนุชุจุฑ ุฃู AI_RULES.md + PROJECT_TIMELINE ูุงููุงูุ

---

### 4. ุชุญุณูู `AI_RULES.md` (ุฃููููุฉ ููุฎูุถุฉ)

**ุงูุฅุถุงูุฉ ุงูููุชุฑุญุฉ:**
ูุณู ุฌุฏูุฏ "Quick Reference" ูู ููุงูุฉ ุงูููู:

```markdown
## 9. ูุฑุฌุน ุณุฑูุน (Quick Reference)

### Database
- **Port:** 6543 (NEVER 5432)
- **Prohibited:** `prisma db push`, `prisma migrate dev`

### Naming Conventions
| Type | Convention | Example |
|------|------------|---------|
| Variables | camelCase | `userName`, `isActive` |
| Components | PascalCase | `UserProfile.tsx` |
| Directories | kebab-case | `/my-grades` |

### AttendanceStatus Values
`PRESENT` | `EXCUSED` | `ABSENT` | `REVIEWED` | `LEFT_EARLY`
```

**ุงูุณุคุงู:**
ูู ูุฐุง ูุญุณู ูู ูุงุจููุฉ ุงุณุชุฎุฏุงู AI_RULES.mdุ

---

## ๐ ุฃููุงุฑ ุจุฏููุฉ (ููููุงุด)

### ููุฑุฉ 1: ูุธุงู "ุงูุฐุงูุฑุฉ ุงูุทุจููุฉ" (Layered Memory)

ุจุฏูุงู ูู ูููุงุช ูููุตูุฉุ ูุธุงู ุญุณุจ ุงูุชูุฑุงุฑ:

```
Layer 0: Ultra-Hot (ูู ุฌูุณุฉ - 100 ุณุทุฑ)
โโโ QUICK_REFERENCE.md

Layer 1: Hot (ุนูุฏ ุงูุญุงุฌุฉ - 500 ุณุทุฑ)
โโโ AI_RULES.md
โโโ CURRENT_STATUS.md

Layer 2: Warm (ูููุฑุงุฌุนุฉ - 1000 ุณุทุฑ)
โโโ PROJECT_MAP.md
โโโ DECISION_LOG.md

Layer 3: Cold (ุฃุฑุดูู - ุจุงูุทูุจ)
โโโ docs/history/
```

**ุงูุณุคุงู:** ูู ุชุนุชูุฏ ุฃู ูุฐุง ุงููุธุงู ุฃูุถู ูู ุงูุญุงููุ

---

### ููุฑุฉ 2: `SESSION_SUMMARIES.md` ุจุฏูุงู ูู ุงูุชูุงุตูู

ุจุฏูุงู ูู ุญูุธ ูู ุชูุงุตูู ูู ุฌูุณุฉุ ููุฎุต 3-5 ุฃุณุทุฑ:

```markdown
## ุงูุฌูุณุฉ 19 (25 ููููุจุฑ)
**ููุฎุต:** Route Groups + Streaming ูุชุญุณูู ุงูุณุฑุนุฉ 80%. ููู 23 ุตูุญุฉ. ุฅูุดุงุก 18 ูููู (Async + Skeleton).
**ูุฑุงุฑุงุช ุญุฑุฌุฉ:** Suspense ููุตูุญุงุช ุงูุซูููุฉุ High-Fidelity Skeletons
**ูููุงุช:** docs/navigation-improvement/
```

**ุงููุงุฆุฏุฉ:** 1200 ุณุทุฑ โ 300 ุณุทุฑ ููุชุงุฑูุฎ ุงููุงูู

**ุงูุณุคุงู:** ูู ูุฐุง ูููุฏูุง ูุนูููุงุช ูููุฉุ

---

## โ ุฃุณุฆูุฉ ูุญุฏุฏุฉ ูู

1. **QUICK_REFERENCE.md:** ูู ุชุฑู ูุงุฆุฏุฉ ุญููููุฉุ ุฃู ุฃูู ุชูุฑุงุฑ ูุง ุฏุงุนู ููุ

2. **ุชูุณูู TIMELINE:** ูู ุงูุชูุณูู ุงูููุชุฑุญ (Phase 1-3) ููุทููุ ุฃู ุชูุชุฑุญ ุชูุณููุงู ุขุฎุฑุ

3. **DECISION_LOG:** ูู ูุถูู ูููุฉุ ุฃู ุฃู ุงููุนูููุงุช ููุฌูุฏุฉ ุจุงููุนู ูู ุงููููุงุช ุงูุญุงููุฉุ

4. **ูุธุงู ุงูุฐุงูุฑุฉ ุงูุทุจููุฉ:** ูู ูุฐุง ุงูููุฌ (Layer 0-3) ุฃูุถู ูู ุงูุจููุฉ ุงูุญุงููุฉุ

5. **ุฃููุงุฑ ุฃุฎุฑู:** ูู ูุฏูู ุงูุชุฑุงุญุงุช ุจุฏููุฉ ุชูุงูุงู ูู ุฃุฐูุฑูุงุ

---

## ๐ ููุฎุต ุงูููุงุฑูุฉ

| ุงููุคุดุฑ | ุงูุญุงูู | ุจุนุฏ ุงูุชุญุณููุงุช | ุงูุชุญุณูู |
|-------|--------|---------------|---------|
| ุญุฌู ุงูุณูุงู ุงูููุญูู | ~1500 ุณุทุฑ | ~300 ุณุทุฑ | โฌ๏ธ 80% |
| ุณุฑุนุฉ ุงููุตูู ูููุนูููุงุช | ุจุทูุฆุฉ | ููุฑูุฉ | โฌ๏ธ 70% |
| ูุถูุญ ุงููุฑุงุฑุงุช | ูุชูุณุท | ุนุงูู | โฌ๏ธ 50% |

---

## ๐ฏ ุงูุฎูุงุตุฉ

**ุชููููู ูููููุงุช ุงูุญุงููุฉ:** ููุชุงุฒุฉ 95% โ

**ุงูุชูุตูุฉ ุงูุฃุณุงุณูุฉ:** ุฅูุดุงุก QUICK_REFERENCE.md (ุชุฃุซูุฑ ูุจูุฑุ ุฌูุฏ ูููู)

**ุจุงูู ุงูุชูุตูุงุช:** ุชุญุณููุงุช ุชุฏุฑูุฌูุฉ (ููุณุช ุญุฑุฌุฉ)

**ุงูุณุคุงู ุงูุฃูู:**
> ูู ูุฌูุฉ ูุธุฑู ุงููููุฉุ ูู ูุฐู ุงูุชุญุณููุงุช ุชุณุชุญู ุงูุนูุงุกุ ุฃู ุฃู ุงูุจููุฉ ุงูุญุงููุฉ ูุงููุฉ ุชูุงูุงูุ

---

**๐ ุดูุฑุงู ูููุชู ูู ุงููุฑุงุฌุนุฉ. ุฑุฃูู ููู ุฌุฏุงู ูุฃูู ูู ูุงู ุจุจูุงุก ูุฐุง ุงููุธุงู ุฃุตูุงู.**
