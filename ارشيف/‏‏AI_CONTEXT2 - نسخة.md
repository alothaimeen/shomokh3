# ๐ค AI Context - ููุตุฉ ุดููุฎ v3 (ุงูุฅุตุฏุงุฑ 2.0)

**ุขุฎุฑ ุชุญุฏูุซ:** 23 ููููุจุฑ 2025  
**ุงูุบุฑุถ:** ูุฑุฌุน ุชููู ุซุงุจุช ููุฐูุงุก ุงูุงุตุทูุงุนู - ูููุฑุฃ ูุฑุฉ ูุงุญุฏุฉ ูู ูู ุฌูุณุฉ  
**ุงูุจุฑูุชูููู ุงููุนุชูุฏ:** Code Gear Protocol (ุชุฑุณ ุงูุดูุฑุฉ)

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

**Shomokh v3** - ููุตุฉ ุฅุฏุงุฑุฉ ุชุนููููุฉ ูููุฑุขู ุงููุฑูู
- **Tech Stack:** Next.js 15, TypeScript, Prisma, Supabase PostgreSQL
- **Roles:** ADMIN, TEACHER, STUDENT (3 ุฃุฏูุงุฑ ููุท)
- **ุงููููุฐุฌ:** Multi-Tenant (ูู ุฌูุนูุฉ ูุงุนุฏุฉ ุจูุงูุงุช ูููุตูุฉ)
- **ุงูุญุงูุฉ:** 17.5/36 ุฌูุณุฉ ููุชููุฉ (~55%)
- **ุงูุฌูุณุฉ ุงููุงุฏูุฉ:** 18 - ุงูุชุฑููุฉ ุฅูู Next.js 15 ู React 19

---

## ๐ก๏ธ ุญุงูุฉ ุงููุธุงู ุงูุฃูููุฉ ูุงูุชุดุฎูุตูุฉ (Security & System Health)

### โ ุณูุงูุฉ ุงูุจูุงูุงุช (Data Integrity)
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช:** ุณูููุฉ 100% ูููุทู ุงูุนูุงูุงุช ุตุญูุญ (ุจูุงุกู ุนูู `DIAGNOSIS_REPORT.md`).
- **ูุง ุชูุฌุฏ ุณุฌูุงุช ูุชููุฉ:** ุชู ุงูุชุญูู ูู ุฌููุน ุงูุนูุงูุงุช (Students <-> Users <-> Courses).
- **ุงูุญุณุงุจุงุช:** ุฎูุงุฑุฒููุงุช ุงูุฏุฑุฌุงุช ุฏูููุฉ ูุชุนูู ุจุดูู ุตุญูุญ.

### ๐จ ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุงููุนุฑููุฉ (ุฃููููุฉ ูุตูู)
- **ููุน ุงูุซุบุฑุฉ:** IDOR (Insecure Direct Object Reference).
- **ุงูููุงูุน ุงููุตุงุจุฉ:**
  1. `src/app/api/grades/route.ts`: ูุณูุญ ุจุฌูุจ ุฏุฑุฌุงุช ุทูุงุจ ุขุฎุฑูู.
  2. `src/app/api/enrollment/manage-request/route.ts`: ูุณูุญ ุจูุจูู ุทูุงุจ ูู ุญููุงุช ูุง ูููููุง ุงููุนูู.
- **ุงูุญู ุงููุทููุจ:** ุนุฏู ุงูุงุนุชูุงุฏ ุนูู ุงูููุชุฑุฉ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉุ ููุฑุถ **ุงูุชุญูู ูู ุงูููููุฉ (Ownership Check)** ูู ุงูู Backend ุฏุงุฆูุงู.

### ๐ ุงููุณุชูุฏุงุช ุงููุฑุฌุนูุฉ
- `assurance_report.md` - ุงูุญูููุฉ ุงูููุงุฆูุฉ ุญูู ุงูุฃูุงู ูุณูุงูุฉ ุงูุจูุงูุงุช
- `DIAGNOSIS_REPORT.md` - ุชูุงุตูู ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `FIXES_SUMMARY.md` - ููุฎุต ุขุฎุฑ ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

---

## ๐ฏ ุงููุฑุงุฑ ุงูุงุณุชุฑุงุชูุฌู ุงููุญุฏุซ

**ุฅุนุงุฏุฉ ุงูุจูุงุก ุงููุงููุฉ ูุงูุชุฏุฑูุฌูุฉ** ุจูุงุกู ุนูู:
- โ **ุงูุจุณุงุทุฉ ุฃููุงู** - ุชุฌูุจ ููุงุฑุซ v1 ู v2
- โ **ูุฑุงุนุงุฉ ูููุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู** - ููุงู ุตุบูุฑุฉ ููุชููุฉ
- โ **ุจุฑูุชููููุงุช ุฃูุงู ุถุฏ ุงูุฃุฎุทุงุก** - ููุน ุงูุงูุชุฑุงุถุงุช ูุงูุฃุณุณ ุงููุงูุตุฉ
- โ **ุชุทุจูู ูุงูู ููุธุงู ุงูุฏุฑุฌุงุช ุงููุนูุฏ** - ุจุดูู ุชุฏุฑูุฌู
- โ **ุฅุถุงูุฉ ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ** - ูู ููุงุตูุงุช ููุตุฉ ุดููุฎ

### ๐งญ ููุณูุฉ ุงููุดุฑูุน

- ุฅุนุงุฏุฉ ุงูุจูุงุก ูู ุงูุตูุฑ ููู ูุจุฏุฃ "ุงูููุฒุฉ ุงููุงุญุฏุฉ ูู ูู ุฌูุณุฉ"
- ุงูุชุจุณูุท ูุจู ุงูุชุนููุฏุ ูุงูุงูุชูุงู ูู ุงูุญููู ุงูุตูุจุฉ ุฅูู ุงููุฑูุฉ ุชุฏุฑูุฌูุงู
- ูู ูุฑุงุฑ ุชููู ูุฌุจ ุฃู ูุฏุนู ุณูููุฉ ุงูุตูุงูุฉุ ููุงุจููุฉ ุงููุดุฑ ูุฌูุนูุงุช ูุชุนุฏุฏุฉ
- ุฃู ููุฑุฉ ุฌุฏูุฏุฉ ุชูุนุฑุถ ุฃููุงูุ ุซู ุชูููุฐ ุจุนุฏ ุงูููุงููุฉ ููุท

---

## ๐ ุจุฑูุชูููู "ุชุฑุณ ุงูุดูุฑุฉ" (Code Gear Protocol)

### ุงูููุงุนุฏ ุงูุชุดุบูููุฉ ุงูุนููุง

#### **ุงููุงุนุฏุฉ 1: ุงูุชุฃุณูุณ ุฃููุงู (Foundation First)**
- ุงุจุฏุฃ ุฏุงุฆููุง ุจู **ุงููุฑุญูุฉ 1: ุงูุชุฃุณูุณ ูุงูุชุญูู**
- **ูุง ุชุณุชุฎุฏู ุฃู ุฃุฏุงุฉ ููุชุงุจุฉ ุงููููุงุช** ูุจู ุงูุญุตูู ุนูู ููุงููุฉ ุงููุณุชุฎุฏู ุงูุตุฑูุญุฉ

#### **ุงููุงุนุฏุฉ 2: ุญููุฉ ุงูุจูุงุก ุจุงููุญุฏุงุช (Module-based Execution Loop)**
- ูู ุจุจูุงุก ุงูุชุทุจูู **ูุญุฏุฉ ูุธูููุฉ ูุงุญุฏุฉ ููุท ูู ูู ูุฑุฉ**
- ูุง ุชูุชูู ุฅูู ุงููุญุฏุฉ ุงูุชุงููุฉ ุญุชู ุชูุชูู ุฏูุฑุฉ ุงูุนูู ุงูุญุงููุฉ ูููุงูู ุงููุณุชุฎุฏู

#### **ุงููุงุนุฏุฉ 3: ุจุฑูุชูููู ุงูุชุญุฑูุฑ ุงูุขูู ุงูุฅูุฒุงูู (Mandatory Safe-Edit Protocol)**
ููู ููู ุชููู **ุจุชุนุฏููู** (ูููุณ ุฅูุดุงุฆู)ุ **ูุฌุจ** ุนููู ุงุชุจุงุน ุฏูุฑุฉ ุงูุนูู ุงูุซูุงุซูุฉ:
1. **ุงูุฑุฃ (Read):** ุงุณุชุฎุฏู ุฃุฏุงุฉ `view_file` ููุฑุงุกุฉ ุงููุญุชูู ุงูุญุงูู ููููู
2. **ูููุฑ (Think):** ุฃุนูู ุนู ุฎุทุชู ููุชุนุฏููุ ูุญุฏุฏ **ููุทุฉ ุงูุฅุฏุฎุงู** ุจุฏูุฉ
3. **ูููุฐ ุงูุชุนุฏูู (Act):** ุงุณุชุฎุฏู ุฃุฏุงุฉ ุงูุชุนุฏูู ูุฅุฏุฎุงู ุงูููุฏ ุงูุฌุฏูุฏ ุฏูู ุชุฏููุฑ ุงููุญุชูู ุงูุขุฎุฑ

#### **ุงููุงุนุฏุฉ 4: ูุจุฏุฃ ุงูุจุฏุงูุฉ ุฃููุงู (Intuition-First Principle)**
- ุชุทุจูู **ูุงููู ุฌุงููุจ (Jakob's Law)** ูู ุงูุชุตููู
- ุงููุงุฌูุฉ ูุฌุจ ุฃู ุชููู ูุฃูููุฉ ูุจุฏูููุฉ ูููุณุชุฎุฏู
- ุงููุฃููู ูุณุจู ุงููุจุชูุฑ

#### **ุงููุงุนุฏุฉ 5: ูุง ุญุฐู ุจุฏูู ุจุฏูู**
- โ ููููุน ุญุฐู ุฃู ููู ุฏูู ูุฌูุฏ ุจุฏูู
- โ ููููุน ุชุนุฏูู ุงูู Schema ูู ูุฐู ุงููุฑุญูุฉ

---

## ๐๏ธ ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ ุงูุญุงุณูุฉ

### ุงูุงูุชูุงู ุงููุนูุงุฑู (Session 18)
**ูู:** `Client Component โ fetch() โ API Route (34 endpoint) โ Database`  
**ุฅูู:** `Server Component โ Database` | `Client Component โ Server Action โ Database`  
**ุงููุชูุฌุฉ:** ููุฏ -60% | JS bundle -70% | ุณุฑุนุฉ +40%

### 1. ุฅุฏุงุฑุฉ ุงูููุงู (Tasks)
- โ **ุงููุนุชูุฏ:** `src/app/api/points` (ูุธุงู ุงูููุงุท)
- โ **ุงููููู (Zombie Code):** `src/app/api/tasks` (ูุฌุจ ุญุฐูู ูุชุฌุงููู ุชูุงูุงู)

### 2. ุงูุจุญุซ ุนู ุงูุทูุงุจ
- ูุฌุจ ุงุณุชุฎุฏุงู `userId` ุฏุงุฆูุงู ุจุฏูุงู ูู `studentName` ูุถูุงู ุงูุฏูุฉ ูููุน ุชุถุงุฑุจ ุงูุฃุณูุงุก

### 3. ุงููููุงุช ุงููุฑุฌุนูุฉ ุงูุฌุฏูุฏุฉ (Session 18)
- โ `src/types/index.ts` - ูุนุงููุฑ ุงูุฃููุงุน ุงูููุญุฏุฉ
- โ `src/lib/data/queries.ts` - ุงูุงุณุชุนูุงูุงุช ุงููุนูุงุฑูุฉ
- โ `src/lib/auth-helpers.ts` - ูุณุงุนุฏุงุช ุงููุตุงุฏูุฉ
- โ `src/actions/` - Server Actions ุงูุฌุฏูุฏุฉ

### 4. ุฅุฒุงูุฉ testUsers
- โ `testUsers` ูู `auth.ts` ุฃุตุจุญุช ููููุนุฉ
- โ ุงูุงุนุชูุงุฏ ุงููุงูู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท

---

## ๐จ ููุงุนุฏ Supabase ุงูุญุฑุฌุฉ (ูุง ุชุฌุงูู)

### ุงูุฅุนุฏุงุฏ ุงููุญูุฏ ุงูููุจูู
```bash
DATABASE_URL="postgresql://postgres:[password]@db.[project].supabase.co:6543/postgres?pgbouncer=true"
```

### โ ุงููุญุธูุฑุงุช
- Port 5432 (ูุณุจุจ P1001)
- `prisma db push` (ูุชุฌูุฏ)
- `prisma migrate dev` (ูุชุฌูุฏ)
- DIRECT_URL (ุบูุฑ ูุฏุนูู)

### โ ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ูุชุนุฏูู Schema
```typescript
await prisma.$executeRawUnsafe(`CREATE TABLE ...`);
npm run db:setup
```

### ุจุฑูุชูููู ุงููุญุต
```bash
โ DATABASE_URL ูุญุชูู :6543
โ ููุชูู ุจู ?pgbouncer=true
โ ุงุฎุชุจุฑ ุจู: npx prisma studio
โ ุฑุงูุจ console ูุฃุฎุทุงุก P1001
```

---

## ๐ข ูููุฐุฌ ุงููุดุฑ ููุฌูุนูุงุช ุงููุชุนุฏุฏุฉ

### ุงูุงุณุชุฑุงุชูุฌูุฉ
```yaml
ุงููููุฐุฌ: Multi-Tenant Deployments
ุงููุฏู: ูุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููู ุงูุฌูุนูุงุช ูุฌุงูุงู
ุงูุชูููุฉ: Environment Variables + Docker Support
ููุงุนุฏ ุงูุจูุงูุงุช: Supabase (PostgreSQL) + Prisma
```

### ุงูููุงุฆุฏ
```yaml
โ ุงุณุชููุงููุฉ: ูู ุฌูุนูุฉ ููุง ูุงุนุฏุฉ ุจูุงูุงุช Supabase ูููุตูุฉ
โ ุฃูุงู: ูุง ูุดุงุฑูุฉ ุจูุงูุงุช ุจูู ุงูุฌูุนูุงุช
โ ูุฑููุฉ: ุฅุนุฏุงุฏุงุช ูููุตูุฉ ููู ุฌูุนูุฉ
โ ุชูููุฉ: ูู ุฌูุนูุฉ ุชุฏูุฑ ูุดุฑูุนูุง ุงูุฎุงุต
โ ุชุฎุตูุต: ุงุณูุ ุดุนุงุฑุ ูุซูู ูุณุชูู
```

### ุจููุฉ ุงููุดุฑ
```
shamokh-v3/
โโโ .env.example
โโโ .env.local
โโโ docker-compose.yml
โโโ setup-guide.md
โโโ deployment/
  โโโ vercel.json
  โโโ netlify.toml
  โโโ docker/
```

---

## ๐ ูุนุงููุฑ ุงูุชุณููุฉ (ุฅูุฒุงููุฉ)

### camelCase ูู ูู ููุงู
```typescript
// โ ุตุญูุญ
interface User {
  userName: string;     // NOT name
  userEmail: string;    // NOT email
  passwordHash: string;
  userRole: UserRole;
  isActive: boolean;
}

// โ API Response
{ courseName, courseDescription, maxStudents }

// โ ุฎุทุฃ
{ name, description, max_students }
```

**ุงูุณุจุจ:** v1 ู v2 ูุดูุง ุจุณุจุจ ุชูุงูุถุงุช ุงูุชุณููุฉ

---

## ๐๏ธ ุงูุฃููุงุท ุงููุนูุงุฑูุฉ

### 1. NextAuth Authentication
```typescript
// Session Structure
{
  user: {
    id: string;
    name: string;    // maps to userName
    email: string;   // maps to userEmail
    role: UserRole;  // ADMIN | TEACHER | STUDENT
  }
}

// โ ูุง ุงุณุชุฎุฏุงู ูู Test Credentials ุงููุดูุฑุฉ
// โ ุฌููุน ุงููุณุชุฎุฏููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท
```

### 2. Middleware Pattern
```typescript
const rolePermissions = {
  ADMIN: ['/*'],
  TEACHER: ['/dashboard', '/teacher', '/attendance', ...],
  STUDENT: ['/dashboard', '/enrollment', '/my-grades', ...]
};
```

### 3. Server Action Pattern (New in Session 18)
```typescript
'use server';

export async function serverAction(
  prevState: any,
  formData: FormData
): Promise<ActionResponse> {
  // 1. Verify session
  const session = await requireAuth();
  
  // 2. Validate input with Zod
  const parsed = schema.safeParse(data);
  
  // 3. Check ownership
  if (!userOwnsResource) return { success: false, error: 'ุบูุฑ ูุตุฑุญ' };
  
  // 4. Execute database operation
  await db.model.create({ data });
  
  // 5. Revalidate cache
  revalidatePath('/path');
  
  // 6. Return response
  return { success: true, message: 'ุชู ุจูุฌุงุญ' };
}
```

### 4. Server Component Pattern (New in Session 18)
```typescript
// Server Component (default)
export default async function Page() {
  const session = await requireAuth();
  const data = await db.model.findMany();
  
  return <UI data={data} />;
}

export const revalidate = 3600; // Cache for 1 hour
```

### 5. Client Component Pattern
```typescript
'use client';

import { useActionState } from 'react';

export function Form() {
  const [state, formAction, isPending] = useActionState(
    serverAction,
    { message: '' }
  );
  
  return <form action={formAction}>...</form>;
}
```

---

## ๐๏ธ Database Schema

```prisma
User (teachers) โโ< Course >โโ Program
                      โ
                      โโโ EnrollmentRequest >โโ Student
                      โโโ Enrollment >โโ Student
                      โโโ Attendance >โโ Student
                      โโโ DailyGrade >โโ Student

// AttendanceStatus Enum
PRESENT    // ุญ - ุญุงุถุฑุฉ
EXCUSED    // ู - ูุนุชุฐุฑุฉ
ABSENT     // ุบ - ุบุงุฆุจุฉ
REVIEWED   // ุฑ - ุฑุงุฌุนุช
LEFT_EARLY // ุฎ - ุฎุฑูุฌ ูุจูุฑ
```

---

## ๐ฏ ุงูููุงู ุงูุดุงุฆุนุฉ

### ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ (Session 18+)
```bash
1. ุชุญูู ูู ุงูุงุชุตุงู: npm run dev
2. ุฅูุดุงุก Server Action: src/actions/[feature].ts
3. ุฅูุดุงุก ุตูุญุฉ: src/app/[feature]/page.tsx (Server Component)
4. ุฅูุดุงุก Client Component: src/app/[feature]/ClientForm.tsx
5. ุงุฎุชุจุงุฑ: npm run build && npm run dev
```

### ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ
```bash
npm run dev      # Development server
npm run build    # Production build
npm run db:setup # Initialize database
```

---

## ๐จ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูุญููููุง

| ุงูุฎุทุฃ | ุงูุณุจุจ | ุงูุญู |
|-------|-------|------|
| P1001 | Port 5432 ุฃู URL ุฎุทุฃ | ุงุณุชุฎุฏู :6543 + ?pgbouncer=true |
| prisma db push ูุชุฌูุฏ | PgBouncer | ุงุณุชุฎุฏู $executeRawUnsafe |
| Module not found | ุญุฒูุฉ ููููุฏุฉ | npm install [package] |
| 'use client' missing | Hook ูู Server Component | ุฃุถู 'use client' ุฃูู ุงูููู |
| Hydration mismatch | ูุญุชูู ูุฎุชูู | ุงุณุชุฎุฏู useEffect |
| useActionState not found | React 18 | ุชุฑููุฉ ุฅูู React 19 |

---

## ๐ ุงููุฑู ุงูุญุงุณู: ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ vs Dashboard

**โ๏ธ ุชูุจูู ููู ุฌุฏุงู:**

### ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Landing Page)
```
ุงูููู: src/app/page.tsx
ุงููุณุงุฑ: http://localhost:3000/
ุงูุบุฑุถ: ุตูุญุฉ ุงููุจูุท ุงูุฃููู (ุบูุฑ ูุญููุฉ)
ุงููุญุชูู: ูุนูููุงุช ุนู ุฌูุนูุฉ ุดููุฎ + ุฏุนูุฉ ููุชุณุฌูู
ุงููุณุชุฎุฏููู: ุงูุฒูุงุฑ ูุจู ุชุณุฌูู ุงูุฏุฎูู
```

### ุตูุญุฉ Dashboard (ููุญุฉ ุงูุชุญูู)
```
ุงูููู: src/app/dashboard/page.tsx
ุงููุณุงุฑ: http://localhost:3000/dashboard
ุงูุบุฑุถ: ููุญุฉ ุงูุชุญูู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู (ูุญููุฉ)
ุงููุญุชูู: ุฅุญุตุงุฆูุงุช ูุฑูุงุจุท ุญุณุจ ุงูุฏูุฑ
ุงููุณุชุฎุฏููู: ADMIN, TEACHER, STUDENT (ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู)
```

**โ ุฎุทุฃ ุดุงุฆุน:** ุงูุฎูุท ุจูู `/` ู `/dashboard`  
**โ ุงููุงุนุฏุฉ:** ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ = `src/app/page.tsx` ุฏุงุฆูุงู

---

## ๐ ุจููุฉ ุงููููุงุช ุงูุฑุฆูุณูุฉ (ูุญุฏุซุฉ Session 18)

```
src/
โโโ app/
โ   โโโ page.tsx          # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (/) - Landing Page
โ   โโโ dashboard/        # ููุญุฉ ุงูุชุญูู (/dashboard) - ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ api/              # Backend (ุชุฏุฑูุฌูุงู ุณูุชู ุงุณุชุจุฏุงููุง ุจู Server Actions)
โ   โโโ [pages]/          # Frontend (Server Components + Client Components)
โ   โโโ layout.tsx        # Root Layout
โ   โโโ page.tsx          # Landing Page
โโโ actions/              # Server Actions (ุฌุฏูุฏ Session 18)
โ   โโโ enrollment.ts
โ   โโโ attendance.ts
โ   โโโ grades.ts
โโโ lib/
โ   โโโ auth.ts           # NextAuth config (ุชู ุฅุฒุงูุฉ testUsers)
โ   โโโ auth-helpers.ts   # Session helpers (ุฌุฏูุฏ)
โ   โโโ db.ts             # Prisma client
โ   โโโ grading-formulas.ts
โ   โโโ data/
โ       โโโ queries.ts    # Server-side queries (ุฌุฏูุฏ)
โโโ types/
โ   โโโ index.ts          # TypeScript types (ุฌุฏูุฏ)
โโโ middleware.ts         # Route protection

prisma/schema.prisma      # Database schema (175 lines)
scripts/setup-database.js # DB initialization
```

---

## ๐ ุจุฑูุชูููู ุงูุฌูุณุงุช

### ูุจู ุงูุจุฏุก (ุฅูุฒุงูู)
```bash
1. โ ุงูุฑุฃ AI_CONTEXT.md (ุฃู AI_CONTEXT2.md) - ุงูููุงุนุฏ ุงูุชูููุฉ
2. โ ุงูุฑุฃ COMPREHENSIVE_UPGRADE_PLAN4.md - ุงูุฎุทุฉ ุงููุนุชูุฏุฉ
3. โ ุงูุฑุฃ ุจุฑูุชูููู ุชุฑุณ ุงูุดูุฑุฉ.md - ููุงุนุฏ ุงูุชูููุฐ
4. โ ุดุบูู npm run dev - ุชุฃูุฏ ุฃู ูู ุดูุก ูุนูู
5. โ ุงุณุฃู ุฅุฐุง ูุงู ููุงู ุบููุถ
```

### ุจุนุฏ ุงูุงูุชูุงุก (ุฅูุฒุงูู)
```bash
1. โ ุงุฎุชุจุฑ ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ ุดุงููุงู
2. โ ุดุบูู npm run build - ุตูุฑ ุฃุฎุทุงุก
3. โ ุญุฏูุซ PROJECT_TIMELINE.md
4. โ commit ูุน ุฑุณุงูุฉ ูุงุถุญุฉ
5. โ ุญุฏุฏ ุงูุฌูุณุฉ ุงูุชุงููุฉ
```

---

## ๐ก๏ธ ุจุฑูุชููููุงุช ุงูุฃูุงู ุถุฏ ุฃุฎุทุงุก ุงูุฐูุงุก ุงูุงุตุทูุงุนู

```yaml
โ ููุฒุฉ ูุงุญุฏุฉ ูุญุฏุฏุฉ ููู ุฌูุณุฉ
โ ุงุฎุชุจุงุฑ ููุฑู ูุดุงูู ุจุนุฏ ูู ุชุบููุฑ
โ ูุง ุงูุชูุงู ุจุฏูู ุชุฃููุฏ ุงููุฌุงุญ
โ commit ุจุนุฏ ูู ูุฌุงุญ

โ ูุง ุงูุชุฑุงุถุงุช ุจุฏูู ุณุคุงู
โ ุชูุถูุญ ูู ุบููุถ ูุจู ุงูุชูููุฐ
โ ุชูุซูู ูุง ูุนูู ููุท
โ ูุฑุงูุจุฉ ุงุณุชููุงู ุงูุชูููุฒ ุจุงุณุชูุฑุงุฑ

โ ูู ููุฒุฉ ููุชููุฉ ุจุงููุงูู ูุจู ุงูุชุงููุฉ
โ ูุง ุฃุณุณ ูุงูุตุฉ ุฃุจุฏุงู
โ ูุง ุงูุชูุงู ุฅุฐุง ูุดู ุงูุจูุงุก
โ ุฅุตูุงุญ ูุดุงูู ุงูุจูุงุก ุฃููุงู
```

### ๐งช ุจุฑูุชูููู ุงูุชุญูู ุงูุตุงุฑู (ูู VERIFICATION_PROTOCOL_IMPLEMENTATION)
1. **ุงูุชุดุฎูุต ูุจู ุงูุชุนุฏูู:** ุงุณุชุฎุฏู `scripts/full-system-diagnose.js` ููุชุฃูุฏ ูู ุณูุงูุฉ ุงููุธุงู ูุจู ุฅุฌุฑุงุก ุชุบููุฑุงุช ุฌููุฑูุฉ.
2. **Zero Trust:** ูุง ุชุซู ุฃุจุฏุงู ูู ูุฏุฎูุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ. ุชุญูู ูู ุงูู Session ูุงูู Role ูุงูู Ownership ูู ูู Server Action/API Route.
3. **Ownership Check:** ูู ุนูููุฉ ุชุนุฏูู/ุญุฐู ูุฌุจ ุฃู ุชุชุญูู ูู ููููุฉ ุงูููุฑุฏ ุฃููุงู.

### ๐จ ุจุฑูุชูููู ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุจูุงุก

```bash
1. โ ูุง ุชูุชูู ููุฌูุณุฉ ุงูุชุงููุฉ ุฃุจุฏุงู
2. ๐ง ุญู ูุดููุฉ ุงูุจูุงุก ููุฑุงู (ุฃููููุฉ ูุตูู)
3. ๐ ุชุญููู ุฑุณุงุฆู ุงูุฎุทุฃ ุจุนูุงูุฉ
4. โ ุฅุนุงุฏุฉ ุชุดุบูู npm run build ุจุนุฏ ุงูุฅุตูุงุญ
5. ๐ ุชูุซูู ุงููุดููุฉ ูุงูุญู ูููุณุชูุจู
6. โ commit ููุท ุจุนุฏ ูุฌุงุญ ุงูุจูุงุก
```

### ูุจุงุฏุฆ ุงูุนูู
1. **ููุฒุฉ ูุงุญุฏุฉ ูู ูู ูุฑุฉ** - ุงุฎุชุจุฑ ูุจู ุงูุชุงูู
2. **ุงุฎุชุจุงุฑ ููุฑู** - ูุง ุชุณุชูุฑ ูุน ุฃุฎุทุงุก
3. **ุฑุงูุจ Console** - Terminal + Browser
4. **ุชุบููุฑุงุช ุชุฏุฑูุฌูุฉ** - commits ุตุบูุฑุฉ
5. **ุนุฑุจู ุฃููุงู** - ูู ุงููุตูุต ุจุงูุนุฑุจูุฉ
6. **ูุง ุชุชุฎุทู ุฌูุณุงุช** - ุงุชุจุน ุงูุฎุทุฉ ุจุงูุชุฑุชูุจ

---

## ๐ก๏ธ ุนูุงูู ุงููุฌุงุญ ุงูุฑุฆูุณูุฉ

1. **ูุง ุชุนุฏู ูุนุงููุฑ ุงูุชุณููุฉ** - camelCase ุฏุงุฆูุงู
2. **ุชุญูู ูู Supabase ุฏุงุฆูุงู** - ูุจู ุฃู ุนูููุฉ DB
3. **ุงุณุชุฎุฏู session ุจุงุณุชูุฑุงุฑ** - NextAuth ูู ุงููุตุฏุฑ
4. **ุงูุชุฒู ุจุตูุงุญูุงุช ุงูุฃุฏูุงุฑ** - middleware + Server Actions
5. **ุงุฎุชุจุฑ ุจุจูุงูุงุช ุญููููุฉ** - npm run db:seed
6. **ุงุญุชุฑู ุญุฏูุฏ PgBouncer** - ูุง DDL ุจู Prisma
7. **ุงูุฑุฃ ุงูุชูุซูู ุฃููุงู** - ุงูุฎุทุฉ + AI_CONTEXT
8. **ุญุฏูุซ ุงูุชูุซูู ุฃุฎูุฑุงู** - PROJECT_TIMELINE.md
9. **ุทุจู ุจุฑูุชูููู ุชุฑุณ ุงูุดูุฑุฉ** - ูุญุฏุฉ ุชูู ุงูุฃุฎุฑู
10. **ูุฑุถ Ownership Check** - ูู ูู Server Action

---

## ๐ ุงููููุงุช ุงููุงุฌุจ ูุฑุงุกุชูุง

### ุชุฑุชูุจ ุงููุฑุงุกุฉ ุงูุฅูุฒุงูู ูู ูู ุฌูุณุฉ
1. **`AI_CONTEXT2.md` (ูุฐุง ุงูููู):** ูููู ุงูููุงุนุฏ ูุงููุนุงููุฑ ุงูุซุงุจุชุฉ ูููุดุฑูุน.
2. **`COMPREHENSIVE_UPGRADE_PLAN4.md`:** ุงูุฎุทุฉ ุงููุนุชูุฏุฉ ููุฌูุณุฉ 18 ูุงูุงูุชูุงู ุฅูู React 19.
3. **`ุจุฑูุชูููู ุชุฑุณ ุงูุดูุฑุฉ.md`:** ููุงุนุฏ ุงูุชูููุฐ ุงูุฅูุฒุงููุฉ.

### ูููุงุช ูุฑุฌุนูุฉ ุชูููุฉ
- `schema.prisma` - ูุตุฏุฑ ุงูุญูููุฉ ููุจูุงูุงุช (175 ุณุทุฑ)
- `src/lib/grading-formulas.ts` - ุตูุบ ุงูุฏุฑุฌุงุช
- `src/types/index.ts` - ูุนุงููุฑ ุงูุฃููุงุน ุงูููุญุฏุฉ
- `src/lib/data/queries.ts` - ุงูุงุณุชุนูุงูุงุช ุงููุนูุงุฑูุฉ
- `ุงูููุงุตูุงุช ุงููุณุชุฎูุตุฉ ูู ุงูุฎุทุฉ.md` - ูููู ููุทู ุงูุนูู ุงูุชูุตููู ุนูุฏ ุงูุญุงุฌุฉ

### ๐ ุชูุงุฑูุฑ ูุฑุฌุนูุฉ ุญุฏูุซุฉ (ููููุจุฑ 2025)
1. **`assurance_report.md`**: (ูุงู ุฌุฏุงู) ุงูุญูููุฉ ุงูููุงุฆูุฉ ุญูู ุงูุฃูุงู ูุณูุงูุฉ ุงูุจูุงูุงุช.
2. **`DIAGNOSIS_REPORT.md`**: ุชูุงุตูู ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช.
3. **`FIXES_SUMMARY.md`**: ููุฎุต ุขุฎุฑ ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ.

---

## ๐ฏ Multi-Tenant Architecture

```yaml
Model: Multi-Tenant Deployments
Strategy: ูู ุฌูุนูุฉ ูุงุนุฏุฉ ุจูุงูุงุช Supabase ูููุตูุฉ
Benefits:
  - ุนุฒู ูุงูู ููุจูุงูุงุช
  - ุชุญูู ูุณุชูู ููู ุฌูุนูุฉ
  - ูุฌุงูู ูููุคุณุณุงุช ุงูุฅุณูุงููุฉ
  - ูุงุจู ููุชุฎุตูุต (ุงุณูุ ุดุนุงุฑุ ุซูู)
```

---

## ๐ก ุงูุญููุฉ ุงูููุงุฆูุฉ (ุฏุฑูุณ v1 ู v2)

```yaml
โ ุงูุจุณุงุทุฉ ุงูุชุตุฑุช ุนูู ุงูุชุนููุฏ
โ ุงูุงุฎุชุจุงุฑ ุงูููุฑู ููุน ุงูุชุฑุงูู
โ ุงูุชูุซูู ุงูุจุณูุท ุญุงูุธ ุนูู ุงูุงุชุณุงู
โ ุงูุฃูุฏุงู ุงููุงุถุญุฉ ููุนุช ุงูุชุดุชุช
โ ุงูุชุทููุฑ ุงูุชุฏุฑูุฌู ุถูู ุงููุฌุงุญ
โ Supabase ุญุตุฑูุงู ุฃููู ููุถู ุชุนุฏุฏ ุงูุชูููุงุช
โ ุงูุชูููุฑ ูู ุงููุดุฑ ูู ุงูุจุฏุงูุฉ ููุน ุฅุนุงุฏุฉ ุงูุนูู
โ ุจุฑูุชูููู ุชุฑุณ ุงูุดูุฑุฉ ุถูู ุงูุฌูุฏุฉ ูุงูุฏูุฉ
โ Server Actions + React 19 = ุณุฑุนุฉ ูุฃูุงู
```

---

## ๐ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ

```typescript
// โ ูุง test users ูุดูุฑุฉ ูู ุงูููุฏ
// โ ุฌููุน ุงููุณุชุฎุฏููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

// ููููู ุฅูุดุงุก ูุณุชุฎุฏููู ุงุฎุชุจุงุฑ ุนุจุฑ:
npm run db:seed

// ุฃู ุนุจุฑ Prisma Studio:
npx prisma studio
```

---

## ๐ง ุญุงูุงุช ุงูุทูุงุฑุฆ

### ุฅุฐุง ุชุนุทูุช ุงูููุฒุฉ
```bash
1. โ ูุง ุชุชุงุจุน ููููุฒุฉ ุงูุชุงููุฉ
2. โ ุงุฎุชุจุฑ ูู ุจูุฆุฉ ูุธููุฉ
3. โ ุงุจุญุซ ุนู ุฃุจุณุท ุญู (hardcode ุฅุฐุง ูุฒู)
4. โ ุงุทูุจ ูุณุงุนุฏุฉ ุจุนุฏ 30 ุฏูููุฉ
5. โ ููุฑ ูู ุชุจุณูุท ุงููุฏู
6. โ ุทุจู ุจุฑูุชูููู ุชุฑุณ ุงูุดูุฑุฉ: ุงูุฑุฃ โ ูููุฑ โ ูููุฐ
```

### ุฅุฐุง ููุฏุช ุงูุชูููุฒ
```bash
1. โ ุงุญูุธ ุงูุชูุฏู ููุฑุงู
2. โ commit ุงูุญุงูุฉ ุงูุญุงููุฉ
3. โ ูุซูู ุขุฎุฑ ุญุงูุฉ ุนุงููุฉ
4. โ ุญุฏุฏ ูุฏู ุงูุฌูุณุฉ ุงููุงุฏูุฉ
5. โ ุญุฏูุซ PROJECT_TIMELINE.md
```

---

## ๐ก ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ (v1 & v2 & Session 17.5)

```yaml
โ ุงูุจุณุงุทุฉ > ุงูุชุนููุฏ
โ ุงูุงุฎุชุจุงุฑ ุงูููุฑู > ุงูุชุฑุงูู
โ ุงูุชูุซูู ุงูุจุณูุท > ูุง ุชูุซูู
โ ุงูุฃูุฏุงู ุงููุงุถุญุฉ > ุงูุชุดุชุช
โ ุงูุชุทููุฑ ุงูุชุฏุฑูุฌู > Big Bang
โ Supabase ุญุตุฑูุงู > ุฏุนู ูุชุนุฏุฏ
โ ุงูุชุฎุทูุท ูููุดุฑ ูุจูุฑุงู > Afterthought
โ userId/teacherId > userName/email (reliability)
โ Response format consistency > assumptions
โ Hook interfaces > unconditional calls
โ Server Actions > Client Fetch (security + performance)
```

---

## ๐ ุงูุฌูุณุฉ 18: ุงูุชุฑููุฉ ุฅูู Next.js 15 ู React 19

### ุงููุฏู
- ุชุฑููุฉ Next.js ุฅูู 15 ู React ุฅูู 19
- ุงูุชุญูู ูู Client Fetch ุฅูู Server Actions
- ุชุทุจูู Optimistic UI
- ุณุฏ ุงูุซุบุฑุงุช ุงูุฃูููุฉ (IDOR)

### ุงููุฑุงุญู (3 ุฌูุณุงุช ูุฑุนูุฉ)
1. **18.0:** ุงูุชุฃุณูุณ ูุงูุฃูุงู (3-4 ุณุงุนุงุช)
2. **18.1:** ุงูุทูุงุจ ูุงูุนูููุงุช ุงูุฃุณุงุณูุฉ (4-5 ุณุงุนุงุช)
3. **18.2:** ุงููุนููุฉ ูุงูุจูุงูุงุช + Optimistic UI (3-4 ุณุงุนุงุช)

### ุงููุฑุฌุน ุงูุฃุณุงุณู
- `COMPREHENSIVE_UPGRADE_PLAN4.md` - ุงูุฎุทุฉ ุงูุดุงููุฉ ุงูููุตูุฉ

---

**๐ ููู ูุฑุฌุนู ุซุงุจุช - ูุง ูุชุบูุฑ ุฅูุง ุนูุฏ ุชุญุฏูุซุงุช ุชูููุฉ ูุจุฑู**  
**๐ฏ ุงูุฑุฃู ูู ุจุฏุงูุฉ ูู ุฌูุณุฉุ ุทุจูู ุฃุซูุงุก ุงูุนูู**  
**โ๏ธ ุงูุจุฑูุชูููู: Code Gear Protocol (ูุญุฏุฉ ุชูู ุงูุฃุฎุฑู)**
