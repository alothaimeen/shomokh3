# ุชุญุฏูุซ ุงููุซุงุฆู - Supabase ุญุตุฑูุงู (ูุง ุฎูุงุฑุงุช ุฃุฎุฑู)

## ุงูุณูุงู:
ูุฑุงุฑ ููุงุฆู ุจุงุณุชุฎุฏุงู Supabase ุญุตุฑูุงู ูู ุฌููุน ูุฑุงุญู ุงููุดุฑูุน. ุงููุทููุจ ุชุญุฏูุซ ุงููุซุงุฆู ูุชุนูุณ ูุฐุง ุงููุฑุงุฑ ูุฅุฒุงูุฉ ุฃู ุฅุดุงุฑุงุช ูุฎูุงุฑุงุช ุฃุฎุฑู.

## ุงููุทููุจ:

### ุงููููุฉ ุงูุฃููู: ุชุญุฏูุซ SIMPLE_CONTEXT_BACKPACK.md

#### 1. ุงุณุชุจุฏุงู ูุณู "ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฑูุฉ" ุจู:
```yaml
### ูุงุนุฏุฉ ุงูุจูุงูุงุช - Supabase ุญุตุฑูุงู
```sql
-- ๐ฏ ุงููุฑุงุฑ ุงูููุงุฆู: Supabase ูู ุฌููุน ุงููุฑุงุญู
-- โ ุงูุชุทููุฑ: Supabase
-- โ ุงูุงุฎุชุจุงุฑ: Supabase  
-- โ ุงูุฅูุชุงุฌ: Supabase

-- ุงูุฅุนุฏุงุฏ ุงููุญูุฏ ุงูููุจูู:
DATABASE_URL="postgresql://postgres:[password]@db.[project].supabase.co:6543/postgres?pgbouncer=true"
NEXT_PUBLIC_SUPABASE_URL="https://[project].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="[anon_key]"

-- โ ููููุน ููุงุฆูุงู:
DATABASE_URL="...5432/..."        -- ุณูุณุจุจ P1001 Error
DIRECT_URL="..."                  -- ุบูุฑ ูุฏุนูู ูุน PgBouncer
npx prisma db push               -- ุณูุนูู
npx prisma migrate dev           -- ุณูุนูู

-- โ ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ุงููุญูุฏุฉ:
await prisma.$executeRawUnsafe(`CREATE TABLE...`);
```

#### 2. ุฅุถุงูุฉ ูุณู "ูููุฏ Supabase ุงูุญุฑุฌุฉ":
```markdown
### ๐จ ูููุฏ Supabase ุงูุญุฑุฌุฉ (ูุง ุชุฌุงูู)

#### ุงููุดุงูู ุงูุฃูุซุฑ ุชูุฑุงุฑุงู ูุญููููุง:
| ุงููุดููุฉ | ุงูุณุจุจ | ุงูุญู ุงููุญูุฏ |
|---------|-------|-------------|
| **P1001 Connection Error** | ูููุฐ 5432 ุฃู DIRECT_URL | ุงุณุชุฎุฏู ูููุฐ 6543 ููุท |
| **prisma db push ูุนูู** | PgBouncer ูุง ูุฏุนู DDL | `await prisma.$executeRawUnsafe()` |
| **Module not found** | ุญุฒูุฉ ููููุฏุฉ | `npm install [package-name]` |
| **'use client' directive** | Hook ูู Server Component | ุฃุถู `'use client'` ูู ุจุฏุงูุฉ ุงูููู |
| **Hydration mismatch** | ูุญุชูู ูุฎุชูู server/client | ุงุณุชุฎุฏู `useEffect` ูููุญุชูู ุงูุฏููุงูููู |

#### ููุงุนุฏ Supabase ุงูุฅูุฒุงููุฉ:
```typescript
// โ ุงูุทุฑููุฉ ุงููุญูุฏุฉ ุงูููุจููุฉ
const supabase = createClientComponentClient();

// โ ููู DDL ููุท
await prisma.$executeRawUnsafe(`
  CREATE TABLE IF NOT EXISTS users (
    id TEXT PRIMARY KEY,
    userName TEXT NOT NULL
  );
`);

// โ ููููุน ูุน Supabase
npx prisma db push
npx prisma migrate dev
DATABASE_URL ูุน ูููุฐ 5432
```

#### ุจุฑูุชูููู Supabase ูู ูู ุฌูุณุฉ:
```bash
โ ุชุฃูุฏ ูู DATABASE_URL ูุญุชูู ุนูู :6543
โ ุชุฃูุฏ ูู ?pgbouncer=true ูู ุงูููุงูุฉ
โ ูุง ุชุณุชุฎุฏู prisma db push ุฃุจุฏุงู
โ ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจู prisma studio
โ ุฑุงูุจ console ูุฃุฎุทุงุก P1001
```

### ุงููููุฉ ุงูุซุงููุฉ: ุชุญุฏูุซ ุงูุฎุทุฉ ุงูุจุณูุทุฉ ูุงููุงููุฉ.md

#### ุชุญุฏูุซุงุช ูุทููุจุฉ:

1. **ูู ูุณู ุงูุชูููููุฌูุง Stack:**
   ```yaml
   # ุงุณุชุจุฏุงู:
   ูุงุนุฏุฉ ุงูุจูุงูุงุช: PostgreSQL ูุฑู + Prisma
   
   # ุจู:
   ูุงุนุฏุฉ ุงูุจูุงูุงุช: Supabase (PostgreSQL) + Prisma
   ```

2. **ุชุญุฏูุซ ุงูุฌูุณุฉ 3 ูุงููุฉ:**
   ```yaml
   #### ุงูุฌูุณุฉ 3: ุฅุนุฏุงุฏ Supabase ููุงุนุฏุฉ ุงูุจูุงูุงุช
   ุงููุฏู: ุฑุจุท Supabase + ุฅูุดุงุก ุฌุฏุงูู ุฃุณุงุณูุฉ ูุน Prisma
   ุงูููุงู:
     - ุฅูุดุงุก ูุดุฑูุน Supabase ุฌุฏูุฏ
     - ุฅุนุฏุงุฏ Environment Variables ูุน ูููุฏ PgBouncer
     - ุฅูุดุงุก schema.prisma ูุน Supabase provider
     - ุฅูุดุงุก ุฌุฏูู users ุจุงุณุชุฎุฏุงู $executeRawUnsafe
     - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ูุน prisma studio
     - ุฅุถุงูุฉ ูุณุชุฎุฏููู ุชุฌุฑูุจููู

   ุงูุชุญุฐูุฑุงุช ุงูุญุฑุฌุฉ:
     โ๏ธ ุงุณุชุฎุฏู ูููุฐ 6543 ููุท (ููุณ 5432)
     โ๏ธ ูุง ุชุณุชุฎุฏู prisma db push ุฃู migrate dev
     โ๏ธ ุงุณุชุฎุฏู $executeRawUnsafe ููู DDL ููุท

   ูุนุงููุฑ ุงููุฌุงุญ:
     โ Supabase ูุชุตู ุจุฏูู ุฃุฎุทุงุก P1001
     โ prisma studio ููุชุญ ููุนุฑุถ ุงูุฌุฏุงูู
     โ ุฅุฏุฑุงุฌ ูุงุณุชุฑุฌุงุน ุงููุณุชุฎุฏููู ูุนูู
     โ npm run build ููุฌุญ ุจุฏูู errors
   ```

3. **ุฅุฒุงูุฉ ุฃู ุฅุดุงุฑุงุช ูู:**
   - PostgreSQL ูุญูู
   - ููุงุนุฏ ุจูุงูุงุช ูุฑูุฉ
   - ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ
   - AWS RDS ุฃู ุฃู ููุฏููู ุขุฎุฑูู

4. **ุชุญุฏูุซ ุฌููุน ุงูุฌูุณุงุช ุงููุงุญูุฉ:**
   - ุงุณุชุจุฏุงู ุฃู "ูุงุนุฏุฉ ุงูุจูุงูุงุช" ุจู "Supabase"
   - ุฅุถุงูุฉ ุชุญุฐูุฑุงุช PgBouncer ุญูุซ ููุงุณุจ

### ุงููููุฉ ุงูุซุงูุซุฉ: ุงูุชุญูู ูู ุงูุชูุงุณู
ุจุนุฏ ุงูุชุญุฏูุซุ ุชุฃูุฏ ูู:
- โ ูุง ุชูุฌุฏ ุฅุดุงุฑุงุช ูุฎูุงุฑุงุช ููุงุนุฏ ุจูุงูุงุช ุฃุฎุฑู
- โ ุฌููุน ุงูุฃูุซูุฉ ุชุณุชุฎุฏู Supabase URLs
- โ ุงููููุฏ ูุงุถุญุฉ ูู ูู ููุงู ููุงุณุจ
- โ ุงูุฌูุณุฉ 3 ูุญุฏุซุฉ ุจุงููุงูู ูุชุนูุณ Supabase

## ุงููุชูุฌุฉ ุงููุทููุจุฉ:
- โ ูุซุงุฆู ูุงุถุญุฉ ููุจุงุดุฑุฉ ูุงุณุชุฎุฏุงู Supabase ุญุตุฑูุงู
- โ ูููุฏ ูุญุฏุฏุฉ ูุชุฌูุจ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ
- โ ุฅุฑุดุงุฏุงุช ุนูููุฉ ููู ุฌูุณุฉ
- โ ูุง ุงูุชุจุงุณ ุฃู ุฎูุงุฑุงุช ูุฑุจูุฉ

**ุงูุชุจ ุงููููุงุช ุงููุญุฏุซุฉ ูุงููุฉ**
```

