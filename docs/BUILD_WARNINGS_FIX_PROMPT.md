# ๐ง ุฅุตูุงุญ ุชุญุฐูุฑุงุช Build - React Hooks exhaustive-deps

## ๐ ููุฎุต ุงููุดููุฉ ูุงูุณูุงู

ุนูุฏ ุชุดุบูู `npm run build`ุ ุชุธูุฑ **11 ุชุญุฐูุฑ** ูู ESLint ุจุฎุตูุต ูุงุนุฏุฉ `react-hooks/exhaustive-deps`.
ุจุนุฏ ุชุญููู ูุซุงุฆู ุงููุดุฑูุน (`QUICK_REFERENCE.md`, `DECISION_LOG.md`, `SWR_HOOKS_GUIDE.md`)ุ ุชู ุชุตููู ูุฐู ุงูุชุญุฐูุฑุงุช ุฅูู ูุฆุชูู: **ููุฏ ูุฏูู (Zombie Code)** ู **ููุฏ ูุดุท ูุญุชุงุฌ ุชุญุฏูุซ**.

---

## ๐จ ุงูุชุญุฐูุฑุงุช ุงูููุฌูุฏุฉ ูุชุตููููุง

### 1. ููุฏ ูุฏูู "Zombie Code" (ุฃููููุฉ ููุฎูุถุฉ / ุญุฐู) ๐งโโ๏ธ

ูุฐู ุงููููุงุช ุชุญูู ุงููุงุญูุฉ `_old` ููู ุจูุงูุง ูู ูููููุฉ ูุง ูุจู "Route Groups" (ุงูุฌูุณุฉ 19).

#### `src/app/(dashboard)/behavior-grades/page_old.tsx` (3 ุชุญุฐูุฑุงุช)
#### `src/app/(dashboard)/final-exam/page_old.tsx` (3 ุชุญุฐูุฑุงุช)

> **ุงูุณูุงู:** ุชุดูุฑ ูุซููุฉ `QUICK_REFERENCE.md` ู `COMPREHENSIVE_AUDIT_REPORT_SESSION_19.md` ุฅูู ุถุฑูุฑุฉ ุชูุธูู ุงูููุฏ ุงููุฏูู. ูุฐู ุงููููุงุช ูุง ุชูุณุชุฎุฏู ูุนููุงู ูู ุงูุฅูุชุงุฌ.

---

### 2. ููููุงุช Assessment & Reports (ุฃููููุฉ ุนุงููุฉ / ุฅุตูุงุญ) ๐ด

ูุฐู ุงูููููุงุช ูุดุทุฉ ูุชุณุชุฎุฏู ููุท `fetch` ุงูุชูููุฏู (ูุจู ุงุนุชูุงุฏ SWR ุจุงููุงูู ููุง ูู ููุถุญ ูู `SWR_HOOKS_GUIDE.md`).

#### `src/components/assessment/BehaviorGradesTab.tsx`
#### `src/components/assessment/BehaviorPointsTab.tsx`
#### `src/components/assessment/DailyGradesTab.tsx`
#### `src/components/assessment/DailyTasksTab.tsx`
#### `src/components/assessment/FinalExamTab.tsx`
#### `src/components/assessment/MonthlyGradesTab.tsx`
#### `src/components/assessment/WeeklyGradesTab.tsx`
#### `src/components/reports/AcademicReportsContent.tsx`

> **ุงูุณูุงู:** ูุฐู ุงูููููุงุช ุชุนุชูุฏ ุนูู ุฏูุงู `fetch` ูุนุฑูุฉ ุฏุงุฎู ุงููููู ูููู ุฎุงุฑุฌ `useEffect`. ุนุฏู ุฅุถุงูุชูุง ููู dependencies ูุณุจุจ ุชุญุฐูุฑุงุชุ ูุฅุถุงูุชูุง ุจุฏูู `useCallback` ูุณุจุจ Infinite Loops.

---

## ๐๏ธ ุงูุญููู ุงูููุชุฑุญุฉ (ุญุณุจ ุงูุณูุงู)

### ุงูุญู A: ูููููุงุช ุงููุฏููุฉ (`page_old.tsx`) ๐๏ธ
**ุงูุฅุฌุฑุงุก ุงูููุตู ุจู:** **ุงูุญุฐู ุงูููุงุฆู**.
ุจูุง ุฃููุง ูู ูุฑุญูุฉ ุชูุธูู (ููุง ูุดูุฑ `AUDIT_REPORT`)ุ ููุง ุฏุงุนู ูุฅุตูุงุญ ูููุงุช ููุชุฉ.
*ุฅุฐุง ุฑูุถ ุงููุณุชุฎุฏู ุงูุญุฐูุ ุณูููู ุจุชุนุทูู ุงูุชุญุฐูุฑ ููุท.*

### ุงูุญู B: ููููููุงุช ุงููุดุทุฉ (`Tab` components) โ
**ุงูุฅุฌุฑุงุก ุงูููุตู ุจู:** ุงุณุชุฎุฏุงู `useCallback`.
ูุฐุง ูู ุงูุญู "ุงูุตุญูุญ" ุจุฑูุฌูุงู ูู React ูุถูุงู ุงุณุชูุฑุงุฑ ุงูููุฏ ุงูุญุงูู ูุจู ุงูุงูุชูุงู ุงููุณุชูุจูู ุฅูู SWR (ุงููุฎุทุท ูู ูู `SWR_HOOKS_GUIDE.md`).

**ุงูููุท ุงููุทููุจ:**
```typescript
// 1. ูู ุฏุงูุฉ ุงูุฌูุจ ุจู useCallback
const fetchGrades = useCallback(async () => {
  // ... logic
}, [courseId, date]); // โ ุชุญุฏูุฏ ุงูุงุนุชูุงุฏุงุช ุจุฏูุฉ

// 2. ุงุณุชุฎุฏุงููุง ูู useEffect ุจุฃูุงู
useEffect(() => {
  if (courseId && date) {
    fetchGrades();
  }
}, [courseId, date, fetchGrades]); // โ ุงูุขู ุขููุฉ ููุฅุถุงูุฉ
```

---

## ๐ฏ ุงูุทูุจ ูู ุงูู AI (ุงูุชูููุฐ)

**ุงููููุฉ:** ูุนุงูุฌุฉ ุชุญุฐูุฑุงุช ุงูู Build ุจุฐูุงุก ุญุณุจ ููุน ุงูููู.

### ุงูุฎุทูุงุช ุงูุชูุตูููุฉ:

#### 1. ุงูุชุนุงูู ูุน ุงููููุงุช ุงููุฏููุฉ (`page_old.tsx`)
*   ูู ุจุญุฐู ุงูููููู ุงูุชุงูููู ููุงุฆูุงู (ุจุนุฏ ุงูุชุฃูุฏ ุฃููุง `_old`):
    *   `src/app/(dashboard)/behavior-grades/page_old.tsx`
    *   `src/app/(dashboard)/final-exam/page_old.tsx`
*   *ููุงุญุธุฉ:* ุฅุฐุง ูู ุชุชููู ูู ุงูุญุฐูุ ุฃุถู `eslint-disable` ููุงูู ุงููููุ ููู ุงูุญุฐู ูู ุงูุฃูุถู.

#### 2. ุฅุตูุงุญ ุงูููููุงุช ุงููุดุทุฉ (Assessment Tabs)
ูููููุงุช ุงูุชุงููุฉ:
*   `src/components/assessment/BehaviorGradesTab.tsx`
*   `src/components/assessment/BehaviorPointsTab.tsx`
*   `src/components/assessment/DailyGradesTab.tsx`
*   `src/components/assessment/DailyTasksTab.tsx`
*   `src/components/assessment/FinalExamTab.tsx`
*   `src/components/assessment/MonthlyGradesTab.tsx`
*   `src/components/assessment/WeeklyGradesTab.tsx`

**ููุฐ ุงูุขุชู:**
1.  ุงุจุญุซ ุนู ุฏุงูุฉ ุงูุฌูุจ (ูุซูุงู `fetchGrades`).
2.  ูู ุงูุฏุงูุฉ ุจู `useCallback`.
3.  ุฃุถู ุงูุฏุงูุฉ ุฅูู ูุตูููุฉ dependencies ูู `useEffect`.
4.  ุชุฃูุฏ ูู ุฅุฒุงูุฉ ุฃู `// eslint-disable-next-line` ุณุงุจู.

#### 3. ุฅุตูุงุญ ูููู ุงูุชูุงุฑูุฑ (`AcademicReportsContent.tsx`)
*   ูุฐุง ููู ุญุณุงุณ (ุฌุฒุก ูู Session 20).
*   ุงุณุชุฎุฏู `useCallback` ูุฏุงูุฉ `fetchData`.
*   ุชุฃูุฏ ูู ุฃู `useEffect` ูุนุชูุฏ ุนูู `fetchData` ู `hasLoadedOnce` ุจุดูู ุตุญูุญ ูุถูุงู ุชุญุฏูุซ ุงูุจูุงูุงุช ุนูุฏ ุชุบููุฑ ุงูููุงุชุฑ.

---

## โ ูุนุงููุฑ ุงููุฌุงุญ

1.  **ุงุฎุชูุงุก ุงูุชุญุฐูุฑุงุช:** ุชุดุบูู `npm run build` ูุฌุจ ุฃู ูููู ูุธููุงู (ุฃู ุนูู ุงูุฃูู ุฎุงููุงู ูู ูุฐู ุงูุชุญุฐูุฑุงุช ุงููุญุฏุฏุฉ).
2.  **ุนุฏู ูุณุฑ ุงููุธุงุฆู:** ุงูุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ูุง ุชุฒุงู ุชูุฌูุจ (ุนุฏู ุญุฏูุซ Infinite Loop).
3.  **ุชูุธูู ุงููุดุฑูุน:** ุงูุชุฎูุต ูู ุงููููุงุช ุงููุฏููุฉ (`_old`) ูููู ูู ุงูุฏููู ุงูุชูููุฉ.

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 29 ููููุจุฑ 2025
**ุจูุงุกู ุนูู:** ุชุญููู ุดุงูู ููุซุงุฆู ุงููุดุฑูุน (`DECISION_LOG`, `QUICK_REFERENCE`, `AUDIT_REPORTS`).
