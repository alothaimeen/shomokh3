# ğŸ“‹ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø¥Ø¶Ø§ÙØ© Suspense Ù„ØµÙØ­Ø§Øª Ù…Ø­Ø¯Ø¯Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ù…ØªÙ‚Ø¯Ù…)

**Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:** âœ… Ø§Ù„Ù…Ø±Ø§Ø­Ù„ 1-4 Ù…ÙƒØªÙ…Ù„Ø©  
**Ø§Ù„Ù‡Ø¯Ù:** ØªØ­ÙƒÙ… Ø¯Ù‚ÙŠÙ‚ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Skeleton UI  
**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:** ØªØ¬Ø±Ø¨Ø© ØªØ­Ù…ÙŠÙ„ Ø£ÙƒØ«Ø± Ø³Ù„Ø§Ø³Ø© ÙˆØ§Ø­ØªØ±Ø§ÙÙŠØ©  
**Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:** 1-2 Ø³Ø§Ø¹Ø© (Ù„ÙƒÙ„ ØµÙØ­Ø©)  
**Ø§Ù„ØµØ¹ÙˆØ¨Ø©:** â­â­â­â­ Ù…ØªÙ‚Ø¯Ù…Ø©  
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:** ğŸ”µ Ø§Ø®ØªÙŠØ§Ø±ÙŠ (Nice to have)

---

## âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©

**Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹!**

- âœ… Ø§Ù„Ù…Ø±Ø§Ø­Ù„ 1-4 ÙƒØ§ÙÙŠØ© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5 ØªÙØ¶ÙŠÙ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ÙÙ‚Ø·
- âœ… ÙŠÙ…ÙƒÙ† ØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- âœ… Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„ØµÙØ­Ø§Øª Ø°Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ«ÙŠØ±Ø©

**Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5ØŸ**
- Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ ØªØ³ØªØºØ±Ù‚ > 500ms Ù„Ù„ØªØ­Ù…ÙŠÙ„
- Ø§Ù„ØµÙØ­Ø§Øª Ø°Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© (Ø¬Ø¯Ø§ÙˆÙ„ ÙƒØ¨ÙŠØ±Ø©)
- Ø¹Ù†Ø¯Ù…Ø§ ØªØ±ÙŠØ¯ ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… premium

---

## ğŸ“Š Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ

### Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† loading.tsx Ùˆ Suspense

#### loading.tsx (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2)
```
User clicks "Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª"
  â†“
loading.tsx ÙŠØ¸Ù‡Ø± Ù„Ù„ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø©
  â†“
Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  â†“
Ø§Ù„ØµÙØ­Ø© ØªØ¸Ù‡Ø± Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ø¨Ø³ÙŠØ· Ø¬Ø¯Ø§Ù‹
- âœ… ÙŠØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- âœ… Ù„Ø§ ÙƒÙˆØ¯ Ø¥Ø¶Ø§ÙÙŠ

**Ø§Ù„Ø¹ÙŠÙˆØ¨:**
- âš ï¸ Ø§Ù„ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø© ØªÙ†ØªØ¸Ø±
- âš ï¸ Ù„Ø§ ØªØ­ÙƒÙ… Ø¯Ù‚ÙŠÙ‚

---

#### Suspense (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5)
```
User clicks "Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª"
  â†“
Header ÙŠØ¸Ù‡Ø± ÙÙˆØ±Ø§Ù‹
  â†“
Stats Cards Skeleton ÙŠØ¸Ù‡Ø±
  â†“
Stats ØªÙØ­Ù…Ù‘Ù„ ÙˆØªØ¸Ù‡Ø±
  â†“
Table Skeleton ÙŠØ¸Ù‡Ø±
  â†“
Table ÙŠÙØ­Ù…Ù‘Ù„ ÙˆÙŠØ¸Ù‡Ø±
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… ØªØ­Ù…ÙŠÙ„ ØªØ¯Ø±ÙŠØ¬ÙŠ (Progressive)
- âœ… Skeleton UI Ù…Ø®ØµØµ
- âœ… ØªØ­ÙƒÙ… Ø¯Ù‚ÙŠÙ‚ ÙÙŠ ÙƒÙ„ Ø¬Ø²Ø¡
- âœ… ØªØ¬Ø±Ø¨Ø© Ø£ÙƒØ«Ø± Ø³Ù„Ø§Ø³Ø©

**Ø§Ù„Ø¹ÙŠÙˆØ¨:**
- âš ï¸ ÙŠØ­ØªØ§Ø¬ ÙƒÙˆØ¯ Ø¥Ø¶Ø§ÙÙŠ
- âš ï¸ Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ø§Ù‹
- âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªØ®Ø·ÙŠØ· Ù…Ø³Ø¨Ù‚

---

## ğŸ“ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©

### Ø§Ù„Ø®Ø·ÙˆØ© 1: ÙÙ‡Ù… Suspense

#### 1.1 Ù…Ø§ Ù‡Ùˆ SuspenseØŸ
```tsx
import { Suspense } from 'react';

<Suspense fallback={<LoadingSkeleton />}>
  <DataComponent />  {/* Server Component ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª */}
</Suspense>
```

**ÙƒÙŠÙ ÙŠØ¹Ù…Ù„:**
1. React ÙŠØ¨Ø¯Ø£ Ø¨Ø¹Ø±Ø¶ `<DataComponent />`
2. Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª â†’ ÙŠØ¹Ø±Ø¶ `fallback` ÙÙˆØ±Ø§Ù‹
3. Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª â†’ ÙŠØ³ØªØ¨Ø¯Ù„ fallback Ø¨Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„ÙØ¹Ù„ÙŠ
4. Ø¨Ù‚ÙŠØ© Ø§Ù„ØµÙØ­Ø© ØªØ¨Ù‚Ù‰ ØªÙØ§Ø¹Ù„ÙŠØ©

---

#### 1.2 Ù…ØªÙ‰ Ù†Ø³ØªØ®Ø¯Ù… SuspenseØŸ
```tsx
// âœ… Ø¬ÙŠØ¯ - Ù…ÙƒÙˆÙ†Ø§Øª ØªØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª
<Suspense fallback={<Skeleton />}>
  <StudentsList />  {/* async Server Component */}
</Suspense>

// âŒ ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠ - Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø§Ù‡Ø²Ø©
<Suspense fallback={<Skeleton />}>
  <Header title="Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª" />  {/* Ù„Ø§ ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª */}
</Suspense>
```

---

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ - ØµÙØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª

#### 2.1 Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø¨Ø¯ÙˆÙ† Suspense)
```tsx
// src/app/(dashboard)/students/page.tsx
export default async function StudentsPage() {
  // Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
  const students = await db.student.findMany({...});
  const stats = calculateStats(students);
  
  return (
    <>
      <AppHeader title="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª" />
      <div className="p-8">
        <StatsCards stats={stats} />
        <StudentsTable students={students} />
      </div>
    </>
  );
}
```

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:**
- Ø§Ù„ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø© ØªÙ†ØªØ¸Ø± `students` query
- Ø­ØªÙ‰ Header ÙŠÙ†ØªØ¸Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

---

#### 2.2 Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø­Ø³Ù‘Ù† (Ù…Ø¹ Suspense)
```tsx
// src/app/(dashboard)/students/page.tsx
import { Suspense } from 'react';
import StatsCardsSkeleton from '@/components/students/StatsCardsSkeleton';
import StudentsTableSkeleton from '@/components/students/StudentsTableSkeleton';

export default function StudentsPage() {
  return (
    <>
      <AppHeader title="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª" />
      <div className="p-8">
        {/* Stats Cards Ù…Ø¹ Suspense */}
        <Suspense fallback={<StatsCardsSkeleton />}>
          <StatsCardsAsync />
        </Suspense>
        
        {/* Students Table Ù…Ø¹ Suspense */}
        <Suspense fallback={<StudentsTableSkeleton />}>
          <StudentsTableAsync />
        </Suspense>
      </div>
    </>
  );
}
```

---

#### 2.3 Ø¥Ù†Ø´Ø§Ø¡ Async Components

**Ø§Ù„Ù…Ù„Ù:** `src/components/students/StatsCardsAsync.tsx`
```tsx
import { db } from '@/lib/db';

export default async function StatsCardsAsync() {
  // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  const students = await db.student.findMany({
    select: {
      isActive: true,
      paymentStatus: true
    }
  });
  
  // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  const stats = {
    total: students.length,
    active: students.filter(s => s.isActive).length,
    paid: students.filter(s => s.paymentStatus === 'PAID').length,
    unpaid: students.filter(s => s.paymentStatus === 'UNPAID').length,
    partial: students.filter(s => s.paymentStatus === 'PARTIAL').length
  };
  
  return (
    <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
      <div className="bg-blue-50 p-4 rounded-lg border border-blue-200">
        <div className="text-2xl font-bold text-blue-600">{stats.total}</div>
        <div className="text-sm text-blue-700">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª</div>
      </div>
      <div className="bg-green-50 p-4 rounded-lg border border-green-200">
        <div className="text-2xl font-bold text-green-600">{stats.active}</div>
        <div className="text-sm text-green-700">Ù†Ø´Ø·Ø©</div>
      </div>
      <div className="bg-emerald-50 p-4 rounded-lg border border-emerald-200">
        <div className="text-2xl font-bold text-emerald-600">{stats.paid}</div>
        <div className="text-sm text-emerald-700">Ù…Ø¯ÙÙˆØ¹Ø©</div>
      </div>
      <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
        <div className="text-2xl font-bold text-yellow-600">{stats.partial}</div>
        <div className="text-sm text-yellow-700">Ø¬Ø²Ø¦ÙŠØ©</div>
      </div>
      <div className="bg-red-50 p-4 rounded-lg border border-red-200">
        <div className="text-2xl font-bold text-red-600">{stats.unpaid}</div>
        <div className="text-sm text-red-700">ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©</div>
      </div>
    </div>
  );
}
```

---

**Ø§Ù„Ù…Ù„Ù:** `src/components/students/StudentsTableAsync.tsx`
```tsx
import { db } from '@/lib/db';
import StudentsTable from './StudentsTable';

interface Props {
  searchParams?: {
    search?: string;
    payment?: string;
  };
}

export default async function StudentsTableAsync({ searchParams }: Props) {
  const searchTerm = searchParams?.search || '';
  const paymentFilter = searchParams?.payment || 'ALL';
  
  // Build where clause
  const whereClause: any = {};
  
  if (searchTerm) {
    whereClause.OR = [
      { studentName: { contains: searchTerm, mode: 'insensitive' } },
      { studentPhone: { contains: searchTerm } },
      { nationality: { contains: searchTerm, mode: 'insensitive' } }
    ];
  }
  
  if (paymentFilter !== 'ALL') {
    whereClause.paymentStatus = paymentFilter;
  }
  
  // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  const students = await db.student.findMany({
    where: whereClause,
    orderBy: { studentNumber: 'asc' },
    select: {
      id: true,
      studentNumber: true,
      studentName: true,
      qualification: true,
      nationality: true,
      studentPhone: true,
      memorizedAmount: true,
      paymentStatus: true,
      memorizationPlan: true,
      notes: true,
      isActive: true,
      createdAt: true
    }
  });
  
  const studentsData = students.map(student => ({
    ...student,
    createdAt: student.createdAt.toISOString()
  }));
  
  return (
    <StudentsTable 
      students={studentsData}
      currentSearch={searchTerm}
      currentFilter={paymentFilter}
    />
  );
}
```

---

#### 2.4 Ø¥Ù†Ø´Ø§Ø¡ Skeleton Components

**Ø§Ù„Ù…Ù„Ù:** `src/components/students/StatsCardsSkeleton.tsx`
```tsx
export default function StatsCardsSkeleton() {
  return (
    <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
      {[1, 2, 3, 4, 5].map((i) => (
        <div key={i} className="bg-gray-50 p-4 rounded-lg border border-gray-200">
          <div className="h-8 w-16 bg-gray-200 rounded animate-pulse mb-2"></div>
          <div className="h-4 w-20 bg-gray-100 rounded animate-pulse"></div>
        </div>
      ))}
    </div>
  );
}
```

---

**Ø§Ù„Ù…Ù„Ù:** `src/components/students/StudentsTableSkeleton.tsx`
```tsx
export default function StudentsTableSkeleton() {
  return (
    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
      {/* Search Bar Skeleton */}
      <div className="mb-6 flex gap-4">
        <div className="h-10 flex-1 bg-gray-100 rounded animate-pulse"></div>
        <div className="h-10 w-32 bg-gray-100 rounded animate-pulse"></div>
      </div>
      
      {/* Table Header Skeleton */}
      <div className="grid grid-cols-6 gap-4 mb-4 pb-3 border-b">
        {[1, 2, 3, 4, 5, 6].map((i) => (
          <div key={i} className="h-4 bg-gray-200 rounded animate-pulse"></div>
        ))}
      </div>
      
      {/* Table Rows Skeleton */}
      <div className="space-y-4">
        {[1, 2, 3, 4, 5, 6, 7, 8].map((i) => (
          <div key={i} className="grid grid-cols-6 gap-4">
            <div className="h-4 bg-gray-100 rounded animate-pulse"></div>
            <div className="h-4 bg-gray-100 rounded animate-pulse"></div>
            <div className="h-4 bg-gray-100 rounded animate-pulse"></div>
            <div className="h-4 bg-gray-100 rounded animate-pulse"></div>
            <div className="h-4 bg-gray-100 rounded animate-pulse"></div>
            <div className="h-4 w-20 bg-gray-100 rounded animate-pulse"></div>
          </div>
        ))}
      </div>
    </div>
  );
}
```

---

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚

#### 3.1 Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©
**ØµÙØ­Ø§Øª Ø°Ø§Øª Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ«ÙŠØ±Ø©:**

1. **`/students`** - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª
   - Stats Cards (5 Ø¨Ø·Ø§Ù‚Ø§Øª)
   - Students Table (Ø¬Ø¯ÙˆÙ„ ÙƒØ¨ÙŠØ±)

2. **`/users`** - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
   - Stats Cards
   - Users Table

3. **`/academic-reports`** - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
   - Filters
   - Report Data
   - Charts

---

#### 3.2 Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø©
**ØµÙØ­Ø§Øª Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø­Ø¬Ù…:**

4. **`/enrolled-students`** - Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø§Øª
   - Course Selector
   - Students List

5. **`/attendance`** - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±
   - Course Selector
   - Attendance Form

---

#### 3.3 Ø£ÙˆÙ„ÙˆÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©
**ØµÙØ­Ø§Øª Ø¨Ø³ÙŠØ·Ø©:**

- `/dashboard` - Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ù„ÙŠÙ„Ø©
- `/my-grades` - Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø®ØµÙŠØ© ÙÙ‚Ø·
- `/settings` - Ù†Ù…Ø§Ø°Ø¬ Ø¨Ø³ÙŠØ·Ø©

---

### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ù†Ù…Ø· Ø¹Ø§Ù… Ù„Ù„ØªØ·Ø¨ÙŠÙ‚

#### 4.1 Template Ù„Ù„ØµÙØ­Ø©
```tsx
// src/app/(dashboard)/[page]/page.tsx
import { Suspense } from 'react';
import AppHeader from '@/components/shared/AppHeader';
import BackButton from '@/components/shared/BackButton';
import StatsAsync from '@/components/[page]/StatsAsync';
import DataAsync from '@/components/[page]/DataAsync';
import StatsSkeleton from '@/components/[page]/StatsSkeleton';
import DataSkeleton from '@/components/[page]/DataSkeleton';

export default function Page() {
  return (
    <>
      <AppHeader title="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" />
      <div className="p-8">
        <BackButton />
        
        {/* Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ­ØªØ§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª */}
        <div className="mb-6">
          <h1 className="text-3xl font-bold">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</h1>
          <p className="text-gray-600">Ø§Ù„ÙˆØµÙ</p>
        </div>
        
        {/* Stats Ù…Ø¹ Suspense */}
        <Suspense fallback={<StatsSkeleton />}>
          <StatsAsync />
        </Suspense>
        
        {/* Data Ù…Ø¹ Suspense */}
        <Suspense fallback={<DataSkeleton />}>
          <DataAsync />
        </Suspense>
      </div>
    </>
  );
}
```

---

#### 4.2 Template Ù„Ù„Ù€ Async Component
```tsx
// src/components/[page]/DataAsync.tsx
import { db } from '@/lib/db';
import { auth } from '@/lib/auth';
import DataDisplay from './DataDisplay';

export default async function DataAsync() {
  const session = await auth();
  
  // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  const data = await db.model.findMany({
    where: { /* filters */ },
    include: { /* relations */ },
    orderBy: { /* sorting */ }
  });
  
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  const processedData = data.map(item => ({
    ...item,
    // transformations
  }));
  
  return <DataDisplay data={processedData} />;
}
```

---

#### 4.3 Template Ù„Ù„Ù€ Skeleton
```tsx
// src/components/[page]/DataSkeleton.tsx
export default function DataSkeleton() {
  return (
    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
      {/* Ù…Ø­Ø§ÙƒØ§Ø© Ø´ÙƒÙ„ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„ÙØ¹Ù„ÙŠ */}
      <div className="space-y-4">
        {[1, 2, 3, 4, 5].map((i) => (
          <div key={i} className="flex gap-4">
            <div className="h-12 w-12 bg-gray-200 rounded animate-pulse"></div>
            <div className="flex-1 space-y-2">
              <div className="h-4 w-3/4 bg-gray-200 rounded animate-pulse"></div>
              <div className="h-3 w-1/2 bg-gray-100 rounded animate-pulse"></div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}
```

---

### Ø§Ù„Ø®Ø·ÙˆØ© 5: ØªÙ‚Ù†ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©

#### 5.1 Nested Suspense
```tsx
<Suspense fallback={<PageSkeleton />}>
  <div>
    <Header />
    
    <Suspense fallback={<StatsSkeleton />}>
      <Stats />
    </Suspense>
    
    <Suspense fallback={<ChartSkeleton />}>
      <Chart />
    </Suspense>
    
    <Suspense fallback={<TableSkeleton />}>
      <Table />
    </Suspense>
  </div>
</Suspense>
```

**Ø§Ù„ÙØ§Ø¦Ø¯Ø©:**
- ÙƒÙ„ Ø¬Ø²Ø¡ ÙŠÙØ­Ù…Ù‘Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø³ØªÙ‚Ù„
- Ø£Ø³Ø±Ø¹ Ø¬Ø²Ø¡ ÙŠØ¸Ù‡Ø± Ø£ÙˆÙ„Ø§Ù‹
- ØªØ¬Ø±Ø¨Ø© ØªØ­Ù…ÙŠÙ„ ØªØ¯Ø±ÙŠØ¬ÙŠØ©

---

#### 5.2 Parallel Data Fetching
```tsx
// âœ… Ø¬ÙŠØ¯ - Parallel
<div>
  <Suspense fallback={<Skeleton1 />}>
    <Data1 />  {/* ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª */}
  </Suspense>
  
  <Suspense fallback={<Skeleton2 />}>
    <Data2 />  {/* ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„ØªÙˆØ§Ø²ÙŠ */}
  </Suspense>
</div>

// âŒ Ø³ÙŠØ¡ - Sequential
<Suspense fallback={<Skeleton />}>
  <Data1 />  {/* ÙŠÙ†ØªØ¸Ø± */}
  <Data2 />  {/* ÙŠÙ†ØªØ¸Ø± Data1 */}
</Suspense>
```

---

#### 5.3 Preloading Data
```tsx
import { preload } from 'react-dom';

export default function Page() {
  // Preload data Ù‚Ø¨Ù„ Suspense
  preload('/api/students', { as: 'fetch' });
  
  return (
    <Suspense fallback={<Skeleton />}>
      <StudentsAsync />
    </Suspense>
  );
}
```

---

## ğŸ“Š Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ù…Ø«Ø§Ù„: students)

```
src/app/(dashboard)/students/
â”œâ”€â”€ page.tsx                    # ğŸ†• Ù…Ø­Ø¯Ù‘Ø« Ù…Ø¹ Suspense
â””â”€â”€ ...

src/components/students/
â”œâ”€â”€ StatsCardsAsync.tsx         # ğŸ†• Server Component
â”œâ”€â”€ StatsCardsSkeleton.tsx      # ğŸ†• Skeleton
â”œâ”€â”€ StudentsTableAsync.tsx      # ğŸ†• Server Component
â”œâ”€â”€ StudentsTableSkeleton.tsx   # ğŸ†• Skeleton
â””â”€â”€ StudentsTable.tsx           # âœ… Ù…ÙˆØ¬ÙˆØ¯ (Client Component)
```

---

## âœ… Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù†Ø¬Ø§Ø­

### Build
- [ ] `npm run build` ÙŠÙ†Ø¬Ø­
- [ ] Ù„Ø§ TypeScript errors
- [ ] Ø¬Ù…ÙŠØ¹ Async Components ØªØ¹Ù…Ù„

### Browser
- [ ] Header ÙŠØ¸Ù‡Ø± ÙÙˆØ±Ø§Ù‹
- [ ] Skeletons ØªØ¸Ù‡Ø± Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† loading.tsx
- [ ] Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ­Ù…Ù‘Ù„ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹
- [ ] Ù„Ø§ Layout Shift

### Performance
- [ ] Time to First Byte (TTFB) < 200ms
- [ ] First Contentful Paint (FCP) < 500ms
- [ ] Largest Contentful Paint (LCP) < 2.5s
- [ ] Cumulative Layout Shift (CLS) < 0.1

### UX
- [ ] ØªØ¬Ø±Ø¨Ø© ØªØ­Ù…ÙŠÙ„ Ø³Ù„Ø³Ø©
- [ ] Skeleton ÙŠØ­Ø§ÙƒÙŠ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ
- [ ] Ù„Ø§ Ø´Ø§Ø´Ø© Ø¨ÙŠØ¶Ø§Ø¡
- [ ] Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ´Ø¹Ø± Ø¨Ø§Ù„Ø³Ø±Ø¹Ø©

---

## ğŸ”§ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Suspense Ù„Ø§ ÙŠØ¹Ù…Ù„
**Ø§Ù„Ø­Ù„:**
- ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙƒÙˆÙ† async Server Component
- ØªØ£ÙƒØ¯ Ù…Ù† `import { Suspense } from 'react'`
- ØªØ£ÙƒØ¯ Ù…Ù† Next.js 15

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Skeleton ÙŠØ¸Ù‡Ø± Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø©
**Ø§Ù„Ø­Ù„:**
- ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ø±Ø¹Ø© query
- Ø§Ø³ØªØ®Ø¯Ù… Prisma select Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø£Ø¶Ù indexes ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Layout Shift
**Ø§Ù„Ø­Ù„:**
- Skeleton ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ù†ÙØ³ Ø­Ø¬Ù… Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„ÙØ¹Ù„ÙŠ
- Ø§Ø³ØªØ®Ø¯Ù… `min-h-[...]` Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹
- Ø§Ø³ØªØ®Ø¯Ù… `aspect-ratio` Ù„Ù„ØµÙˆØ±

---

## ğŸ“‹ Checklist

### Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡
- [ ] Ø§Ù„Ù…Ø±Ø§Ø­Ù„ 1-4 Ù…ÙƒØªÙ…Ù„Ø©
- [ ] ÙÙ‡Ù…Øª ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Suspense
- [ ] Ø­Ø¯Ø¯Øª Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©

### Ù„ÙƒÙ„ ØµÙØ­Ø©
- [ ] Ø£Ù†Ø´Ø£Øª Async Components
- [ ] Ø£Ù†Ø´Ø£Øª Skeleton Components
- [ ] Ø­Ø¯Ù‘Ø«Øª page.tsx Ù…Ø¹ Suspense
- [ ] Ø§Ø®ØªØ¨Ø±Øª ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
- [ ] Ù„Ø§ Layout Shift

### Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡
- [ ] Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© Ù…ÙƒØªÙ…Ù„Ø©
- [ ] `npm run build` ÙŠÙ†Ø¬Ø­
- [ ] Commit Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
- [ ] Ø­Ø¯Ù‘Ø«Øª `PROJECT_TIMELINE.md`

---

## ğŸ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### Ø¨Ø¯ÙˆÙ† Suspense (loading.tsx ÙÙ‚Ø·)
```
User clicks "Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª"
  â†“
loading.tsx ÙŠØ¸Ù‡Ø±
  â†“ 2 Ø«ÙˆØ§Ù†Ù
  â†“
Ø§Ù„ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø© ØªØ¸Ù‡Ø± Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©
```

### Ù…Ø¹ Suspense
```
User clicks "Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª"
  â†“ < 50ms
  â†“ Header ÙŠØ¸Ù‡Ø±
  â†“ Stats Skeleton ÙŠØ¸Ù‡Ø±
  â†“ 500ms
  â†“ Stats ØªØ¸Ù‡Ø±
  â†“ Table Skeleton ÙŠØ¸Ù‡Ø±
  â†“ 1 Ø«Ø§Ù†ÙŠØ©
  â†“ Table ÙŠØ¸Ù‡Ø±
```

**ØªØ­Ø³ÙŠÙ†:** ØªØ¬Ø±Ø¨Ø© ØªØ­Ù…ÙŠÙ„ ØªØ¯Ø±ÙŠØ¬ÙŠØ© ÙˆØ§Ø­ØªØ±Ø§ÙÙŠØ©! ğŸ¨

---

## ğŸ“š Ù…Ø±Ø§Ø¬Ø¹

- [React Suspense](https://react.dev/reference/react/Suspense)
- [Next.js Streaming](https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming)
- [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components)

---

## ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù†Ù‡Ø§Ø¦ÙŠØ©

### Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù… SuspenseØŸ
- âœ… ØµÙØ­Ø§Øª Ø°Ø§Øª Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ«ÙŠØ±Ø©
- âœ… queries ØªØ³ØªØºØ±Ù‚ > 500ms
- âœ… Ø¹Ù†Ø¯Ù…Ø§ ØªØ±ÙŠØ¯ ØªØ¬Ø±Ø¨Ø© premium

### Ù…ØªÙ‰ Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… SuspenseØŸ
- âŒ ØµÙØ­Ø§Øª Ø¨Ø³ÙŠØ·Ø©
- âŒ Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ­Ù…Ù‘Ù„ Ø¨Ø³Ø±Ø¹Ø© (< 200ms)
- âŒ Ø¹Ù†Ø¯Ù…Ø§ loading.tsx ÙƒØ§ÙÙ

### Best Practices
1. Ø§Ø¨Ø¯Ø£ Ø¨Ù€ loading.tsx (Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2)
2. Ø£Ø¶Ù Suspense Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø¨Ø·ÙŠØ¦Ø© ÙÙ‚Ø·
3. Skeleton ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­Ø§ÙƒÙŠ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ
4. Ø§Ø³ØªØ®Ø¯Ù… Parallel fetching
5. Ù‚Ø³ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯

---

**âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5 Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© - Ø·Ø¨Ù‘Ù‚Ù‡Ø§ Ø¥Ø°Ø§ Ø§Ø­ØªØ¬Øª ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©!**

Ø§Ù„Ù…Ø±Ø§Ø­Ù„ 1-4 ÙƒØ§ÙÙŠØ© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ! ğŸ¯
